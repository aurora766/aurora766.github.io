<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>redis | FomalhautğŸ¥</title><meta name="keywords" content="Java,MySQL,ç®—æ³•,ä»£ç ,åšå®¢,Butterfly,Hexo,FomalhautğŸ¥,Fomalhaut"><meta name="author" content="FomalhautğŸ¥"><meta name="copyright" content="FomalhautğŸ¥"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="1. ç¼–å†™å¯†é’¥åˆ†å‘å…äº¤äº’çš„è„šæœ¬1234567891011121314151617181920212223242526272829303132333435363738#!&#x2F;bin&#x2F;bash#åˆ›å»ºä¸€ä¸ªIPåœ°å€æ–‡ä»¶ã€‚&gt;ip.txtpass&#x3D;root#æ£€æµ‹expectæ˜¯å¦å®‰è£…ï¼Œæ£€æµ‹å…¬é’¥æ˜¯å¦åˆ›å»ºã€‚rpm -q expect &amp;&gt; &#x2F;dev&#x2F;nullif [ $? -ne 0 ] ;the">
<meta property="og:type" content="article">
<meta property="og:title" content="redis">
<meta property="og:url" content="https://www.fomal.cc/posts/7b25d017.html">
<meta property="og:site_name" content="FomalhautğŸ¥">
<meta property="og:description" content="1. ç¼–å†™å¯†é’¥åˆ†å‘å…äº¤äº’çš„è„šæœ¬1234567891011121314151617181920212223242526272829303132333435363738#!&#x2F;bin&#x2F;bash#åˆ›å»ºä¸€ä¸ªIPåœ°å€æ–‡ä»¶ã€‚&gt;ip.txtpass&#x3D;root#æ£€æµ‹expectæ˜¯å¦å®‰è£…ï¼Œæ£€æµ‹å…¬é’¥æ˜¯å¦åˆ›å»ºã€‚rpm -q expect &amp;&gt; &#x2F;dev&#x2F;nullif [ $? -ne 0 ] ;the">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://source.fomal.cc/img/default_cover_14.webp">
<meta property="article:published_time" content="2024-09-15T08:32:21.000Z">
<meta property="article:modified_time" content="2024-09-15T08:35:50.160Z">
<meta property="article:author" content="FomalhautğŸ¥">
<meta property="article:tag" content="Java,MySQL,ç®—æ³•,ä»£ç ,åšå®¢,Butterfly,Hexo,FomalhautğŸ¥,Fomalhaut">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://source.fomal.cc/img/default_cover_14.webp"><link rel="shortcut icon" href="/"><link rel="canonical" href="https://www.fomal.cc/posts/7b25d017"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'redis',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-15 16:35:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="FomalhautğŸ¥" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/02/avatar.webp" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">2</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">1</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> ä¸ªäºº</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> å” å¨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> æ‹çˆ±å°å±‹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> å…³äº</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">FomalhautğŸ¥</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> ä¼‘é—²</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> å…«éŸ³ç›’</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> å½±é™¢</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> æ¸¸æˆ</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> å…«å®ç®±</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> ç”»å»Š</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> åŠ¨ç”»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘å€å¯¼èˆª</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> ç¤¾äº¤</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> æœ‹å‹åœˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> ç•™è¨€æ¿</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> ç½‘ç«™ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> æ–‡ç« ç»Ÿè®¡</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> æ—§æ—¶å…‰</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> ä¸ªäºº</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> å” å¨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> æ‹çˆ±å°å±‹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> å…³äº</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="æ£€ç´¢ç«™å†…ä»»ä½•ä½ æƒ³è¦çš„ä¿¡æ¯"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> æœç´¢</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="ç¾åŒ–è®¾ç½®-è‡ªå®šä¹‰ä½ çš„é£æ ¼" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">redis</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">å‘è¡¨äº </span><time class="post-meta-date-created" datetime="2024-09-15T08:32:21.000Z" title="å‘è¡¨äº 2024-09-15 16:32:21">2024-09-15</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2024-09-15T08:35:50.160Z" title="æ›´æ–°äº 2024-09-15 16:35:50">2024-09-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">1.4w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>58åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="redis"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="1-ç¼–å†™å¯†é’¥åˆ†å‘å…äº¤äº’çš„è„šæœ¬"><a href="#1-ç¼–å†™å¯†é’¥åˆ†å‘å…äº¤äº’çš„è„šæœ¬" class="headerlink" title="1. ç¼–å†™å¯†é’¥åˆ†å‘å…äº¤äº’çš„è„šæœ¬"></a>1. ç¼–å†™å¯†é’¥åˆ†å‘å…äº¤äº’çš„è„šæœ¬</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#åˆ›å»ºä¸€ä¸ªIPåœ°å€æ–‡ä»¶ã€‚</span></span><br><span class="line">&gt;ip.txt</span><br><span class="line">pass=root</span><br><span class="line"><span class="comment">#æ£€æµ‹expectæ˜¯å¦å®‰è£…ï¼Œæ£€æµ‹å…¬é’¥æ˜¯å¦åˆ›å»ºã€‚</span></span><br><span class="line">rpm -q expect &amp;&gt; /dev/null</span><br><span class="line"><span class="keyword">if</span> [ $? -ne 0 ] ;<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;å¼€å§‹å®‰è£…expectï¼Œè¯·ç¨ç­‰ä¸€ä¼š...&quot;</span></span><br><span class="line">        yum install -y expect &amp;&gt; /dev/null</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;expectå®‰è£…å®Œæˆ&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ ! -f ~/.ssh/id_rsa ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;å¼€å§‹åˆ›å»ºå¯†é’¥å¯¹...&quot;</span></span><br><span class="line">        ssh-keygen -P <span class="string">&quot;&quot;</span> -f ~/.ssh/id_rsa &amp;&gt; /dev/null</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;å¯†é’¥å¯¹åˆ›å»ºå®Œæˆ&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#ä½¿ç”¨forå¾ªç¯pingæµ‹è¯•ä¸»æœºæ˜¯å¦åœ¨çº¿ã€‚</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;2..254&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        &#123;</span><br><span class="line">        ip=10.0.0.<span class="variable">$i</span></span><br><span class="line">        ping -c1 -W1 <span class="variable">$ip</span> &amp;&gt; /dev/null</span><br><span class="line">        <span class="keyword">if</span> [ $? -eq 0 ];<span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$ip</span>&quot;</span> &gt;&gt; ip.txt</span><br><span class="line">        /usr/bin/expect &lt;&lt;-<span class="string">EOF &amp;&gt; /dev/null</span></span><br><span class="line"><span class="string">set timeout 10</span></span><br><span class="line"><span class="string">spawn ssh-copy-id $ip </span></span><br><span class="line"><span class="string">expect &#123;</span></span><br><span class="line"><span class="string">        &quot;yes/no&quot; &#123; send &quot;yes\r&quot;; exp_continue &#125; &amp;&gt; /dev/null</span></span><br><span class="line"><span class="string">        &quot;password:&quot; &#123; send &quot;$pass\r&quot; &#125; &amp;&gt; /dev/null</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">expect eof &amp;&gt; /dev/null</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        &#125;&amp;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">wait</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;æ¨é€å…¬é’¥å’Œå…äº¤äº’å·¥ä½œå·²å®Œæˆï¼Œä½ ç°åœ¨å¯ä»¥ç›´æ¥è¿œç¨‹ç™»é™†æœºå™¨äº†&quot;</span></span><br></pre></td></tr></table></figure>
<p>ansibleä¸»æœºæ¸…å•</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[lb_group]</span><br><span class="line">lb01    ansible_host=172.16.1.5</span><br><span class="line">lb02    ansible_host=172.16.1.6</span><br><span class="line"></span><br><span class="line">[web_group]</span><br><span class="line">web01   ansible_host=172.16.1.7</span><br><span class="line">web02   ansible_host=172.16.1.8</span><br><span class="line">web03   ansible_host=172.16.1.9</span><br><span class="line"></span><br><span class="line">[db_group]</span><br><span class="line">db01    ansible_host=172.16.1.51</span><br><span class="line">db02    ansible_host=172.16.1.52</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">nfs          ansible_host=172.16.1.31</span><br><span class="line">backup       ansible_host=172.16.1.41</span><br><span class="line">zabbix       ansible_host=172.16.1.71</span><br><span class="line">elk          ansible_host=172.16.1.72</span><br><span class="line">jenkins      ansible_host=172.16.1.73</span><br><span class="line">Jumpserver   ansible_host=172.16.1.74</span><br></pre></td></tr></table></figure>
<h2 id="2-è·³æ¿æœºè„šæœ¬"><a href="#2-è·³æ¿æœºè„šæœ¬" class="headerlink" title="2. è·³æ¿æœºè„šæœ¬"></a>2. è·³æ¿æœºè„šæœ¬</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ï¼/bin/bash</span></span><br><span class="line"><span class="comment">#jumpserver</span></span><br><span class="line">lb01=172.16.1.5</span><br><span class="line">lb02=172.16.1.6</span><br><span class="line">web01=172.16.1.7</span><br><span class="line">web02=172.16.1.8</span><br><span class="line">web03=172.16.1.9</span><br><span class="line">db01=172.16.1.51</span><br><span class="line">db02=172.16.1.52</span><br><span class="line">nfs=172.16.1.31</span><br><span class="line">backup=172.16.1.41</span><br><span class="line">zabbix=172.16.1.71</span><br><span class="line">elk=172.16.1.72</span><br><span class="line">jenkins=172.16.1.73</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="title">menu</span></span>()&#123;</span><br><span class="line">        <span class="built_in">cat</span> &lt;&lt;-<span class="string">EOF</span></span><br><span class="line"><span class="string">        +-------------------------+</span></span><br><span class="line"><span class="string">        |     1) lb01             |</span></span><br><span class="line"><span class="string">        |     2) lb02             |</span></span><br><span class="line"><span class="string">        |     3) web01            |</span></span><br><span class="line"><span class="string">        |     4) web02            |</span></span><br><span class="line"><span class="string">        |     5) web03            |</span></span><br><span class="line"><span class="string">        |     6) db01             |</span></span><br><span class="line"><span class="string">        |     7) db02             |</span></span><br><span class="line"><span class="string">        |     8) nfs              |</span></span><br><span class="line"><span class="string">        |     9) backup           |</span></span><br><span class="line"><span class="string">        |     10) zabbix          |</span></span><br><span class="line"><span class="string">        |     11) elk             |</span></span><br><span class="line"><span class="string">        |     12) jenkins         |</span></span><br><span class="line"><span class="string">        |     h) help             |</span></span><br><span class="line"><span class="string">        +-------------------------+</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#èœå•å‡½æ•°</span></span><br><span class="line">menu</span><br><span class="line"> </span><br><span class="line"><span class="comment">#è¿æ¥å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="title">connect</span></span>()&#123;</span><br><span class="line">  ping -c 1 -w 1 <span class="variable">$1</span> &amp;&gt;/dev/null</span><br><span class="line">  <span class="keyword">if</span> [ $? -eq 0 ];<span class="keyword">then</span></span><br><span class="line">    ssh root@<span class="variable">$1</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[5;4;40;31m åˆ«è¿äº†,æˆ‘çš„å“¥,<span class="variable">$2</span>:<span class="variable">$1</span>æœºå™¨éƒ½æ²¡å¼€!!!\033[0m&quot;</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">#æ§åˆ¶ä¸è®©è¾“å…¥ctrl+c,z</span></span><br><span class="line"><span class="built_in">trap</span> <span class="string">&quot;&quot;</span> HUP INT TSTP</span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">read</span> -p <span class="string">&quot;è¯·è¾“å…¥è¦è¿æ¥çš„ä¸»æœºç¼–å·ï¼š&quot;</span> num</span><br><span class="line">    <span class="keyword">case</span> <span class="variable">$num</span> <span class="keyword">in</span></span><br><span class="line">            1|lb01)</span><br><span class="line">              connect <span class="variable">$lb01</span> lb01</span><br><span class="line">                    ;;</span><br><span class="line">            2|lb02)</span><br><span class="line">              connect <span class="variable">$lb02</span> lb02</span><br><span class="line">                    ;;</span><br><span class="line">            3|web01)</span><br><span class="line">              connect <span class="variable">$web01</span> web01</span><br><span class="line">                    ;;</span><br><span class="line">            4|web02)</span><br><span class="line">              connect <span class="variable">$web02</span> web02</span><br><span class="line">                    ;;</span><br><span class="line">            5|web03)</span><br><span class="line">                  connect <span class="variable">$web03</span> web03</span><br><span class="line">                    ;;</span><br><span class="line">            6|db01)</span><br><span class="line">                  connect <span class="variable">$web03</span> db01</span><br><span class="line">                    ;;</span><br><span class="line">            7|db02)</span><br><span class="line">                  connect <span class="variable">$web03</span> db02</span><br><span class="line">                    ;;</span><br><span class="line">            8|nfs)</span><br><span class="line">              connect <span class="variable">$nfs</span> nfs</span><br><span class="line">                    ;;</span><br><span class="line">            9|backup)</span><br><span class="line">                  connect <span class="variable">$backup</span> backup</span><br><span class="line">                    ;;</span><br><span class="line">            10|zabbix)</span><br><span class="line">                    connect <span class="variable">$zabbix</span> zabbix</span><br><span class="line">                    ;;</span><br><span class="line">            11|elk)</span><br><span class="line">                   connect <span class="variable">$db01</span> elk</span><br><span class="line">                    ;;</span><br><span class="line">            12|jenkins)</span><br><span class="line">                    connect <span class="variable">$m01</span> jenkins</span><br><span class="line">                    ;;</span><br><span class="line">            h|<span class="built_in">help</span>)</span><br><span class="line">                    clear</span><br><span class="line">                    menu</span><br><span class="line">                    ;;</span><br><span class="line">            close)</span><br><span class="line">                    <span class="built_in">break</span></span><br><span class="line">                    ;;</span><br><span class="line">    <span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment">#è„šæœ¬åŠŸèƒ½ï¼šä½¿ç”¨xtrabackupexå·¥å…·åšç‰©ç†å¤‡ä»½</span></span><br><span class="line"><span class="comment">#æ¯å‘¨æ—¥ï¼šå‡Œæ™¨1:00åšä¸€æ¬¡å…¨å¤‡</span></span><br><span class="line"><span class="comment">#æ¯å‘¨ä¸€~å‘¨å…­ï¼šæ¯å¤©åšä¸€æ¬¡å·®å¼‚å¤‡ä»½</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤‡ä»½æ•°æ®å­˜æ”¾çš„ç›®å½•</span></span><br><span class="line">backup_dir=/backup</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ•°æ®åº“çš„ç”¨æˆ·å,å¯†ç </span></span><br><span class="line">name=root</span><br><span class="line">passwd=123</span><br><span class="line"></span><br><span class="line"><span class="comment">#è·å–ä»Šå¤©æ˜¯å‘¨å‡ </span></span><br><span class="line">wdate=$(<span class="built_in">date</span> +%w)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å·®å¼‚å¤‡ä»½å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="title">inc</span></span>()&#123;</span><br><span class="line">innobackupex --user=<span class="variable">$&#123;name&#125;</span> --password=<span class="variable">$&#123;passwd&#125;</span> --no-timestamp --incremental \</span><br><span class="line">--incremental-basedir=/<span class="variable">$&#123;backup_dir&#125;</span>/full_$(<span class="built_in">date</span> +%F -d <span class="string">&quot;-<span class="variable">$wdate</span> days&quot;</span>)--0/ /backup/inc<span class="variable">$&#123;wdate&#125;</span>_$(<span class="built_in">date</span> +%F)--<span class="variable">$&#123;wdate&#125;</span>  &amp;&gt; /dev/null </span><br><span class="line"></span><br><span class="line">to_lsn0=$(awk <span class="string">&#x27;NR==3&#123;print $3&#125;&#x27;</span>  /backup/full_$(<span class="built_in">date</span> +%F -d <span class="string">&quot;-<span class="variable">$wdate</span> days&quot;</span>)--0/xtrabackup_checkpoints)</span><br><span class="line">from_lsn<span class="variable">$&#123;wdate&#125;</span>=$(awk <span class="string">&#x27;NR==2&#123;print $3&#125;&#x27;</span>  /backup/inc<span class="variable">$&#123;wdate&#125;</span>_$(<span class="built_in">date</span> +%F)--<span class="variable">$&#123;wdate&#125;</span>/xtrabackup_checkpoints)</span><br><span class="line"></span><br><span class="line">[ <span class="variable">$&#123;to_lsn0&#125;</span> -ne <span class="variable">$&#123;from_lsn1&#125;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&#x27;å‘¨$&#123;wdate&#125;å·®å¼‚å¤‡ä»½å¤±è´¥&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$&#123;wdate&#125;</span> <span class="keyword">in</span></span><br><span class="line">0)</span><br><span class="line">innobackupex --user=<span class="variable">$&#123;name&#125;</span> --password=<span class="variable">$&#123;passwd&#125;</span> --no-timestamp /<span class="variable">$&#123;backup_dir&#125;</span>/full_$(<span class="built_in">date</span> +%F)--<span class="variable">$&#123;wdate&#125;</span> &amp;&gt; /dev/null</span><br><span class="line">;;</span><br><span class="line"></span><br><span class="line">1|2|3|4|5|6)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘¨ä¸€è‡³å‘¨å…­æ‰§è¡Œå·®å¼‚å¤‡ä»½  </span></span><br><span class="line"></span><br><span class="line">inc</span><br><span class="line"></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/bin/bash  </span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># è®¾å®š MySQL ç”¨æˆ·å’Œå¯†ç   </span></span><br><span class="line">MYSQL_USER=<span class="string">&quot;root&quot;</span>  </span><br><span class="line">MYSQL_PASSWORD=<span class="string">&quot;123&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># è®¾å®šå¤‡ä»½ç›®å½•  </span></span><br><span class="line">BACKUP_DIR=<span class="string">&quot;/backup&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´  </span></span><br><span class="line">DATE=$(<span class="built_in">date</span> +%Y-%m-%d--%H%M%S)  </span><br><span class="line">WEEKDAY=$(<span class="built_in">date</span> +%u)  <span class="comment"># %u æ˜¯ä»¥1ï¼ˆæ˜ŸæœŸä¸€ï¼‰åˆ°7ï¼ˆæ˜ŸæœŸæ—¥ï¼‰çš„æ•°å­—æ¥è¡¨ç¤ºçš„æ˜ŸæœŸå‡   </span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># å®šä¹‰æ—¥å¿—æ–‡ä»¶  </span></span><br><span class="line">LOG_FILE=<span class="string">&quot;<span class="variable">$BACKUP_DIR</span>/backup.log&quot;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># å‡½æ•°ï¼šè®°å½•æ—¥å¿—  </span></span><br><span class="line"><span class="function"><span class="title">log_info</span></span>() &#123;  </span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="subst">$(date &#x27;+%Y-%m-%d %H:%M:%S&#x27;)</span> INFO: <span class="variable">$1</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$LOG_FILE</span>&quot;</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># å‡½æ•°ï¼šæ‰§è¡Œå…¨å¤‡  </span></span><br><span class="line"><span class="function"><span class="title">full_backup</span></span>() &#123;  </span><br><span class="line">    log_info <span class="string">&quot;Starting full backup...&quot;</span>  </span><br><span class="line">    xtrabackup --user=<span class="variable">$MYSQL_USER</span> --password=<span class="variable">$MYSQL_PASSWORD</span> --backup --target-dir=<span class="string">&quot;<span class="variable">$BACKUP_DIR</span>/full_<span class="variable">$DATE</span>&quot;</span>  </span><br><span class="line">    <span class="keyword">if</span> [ $? -eq 0 ]; <span class="keyword">then</span>  </span><br><span class="line">        log_info <span class="string">&quot;Full backup completed successfully.&quot;</span>  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">        log_info <span class="string">&quot;Full backup failed.&quot;</span>  </span><br><span class="line">        <span class="built_in">exit</span> 1  </span><br><span class="line">    <span class="keyword">fi</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># å‡½æ•°ï¼šæ‰§è¡Œå·®å¼‚å¤‡ä»½  </span></span><br><span class="line"><span class="function"><span class="title">incremental_backup</span></span>() &#123;  </span><br><span class="line">    last_full_backup=$(<span class="built_in">ls</span> -dt <span class="string">&quot;<span class="variable">$BACKUP_DIR</span>/full_*&quot;</span> | <span class="built_in">head</span> -n 2 | <span class="built_in">tail</span> -n 1)  </span><br><span class="line">    <span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$last_full_backup</span>&quot;</span> ]; <span class="keyword">then</span>  </span><br><span class="line">        log_info <span class="string">&quot;No previous full backup found, performing full backup instead.&quot;</span>  </span><br><span class="line">        full_backup  </span><br><span class="line">        <span class="built_in">return</span>  </span><br><span class="line">    <span class="keyword">fi</span>  </span><br><span class="line">  </span><br><span class="line">    log_info <span class="string">&quot;Starting incremental backup based on <span class="variable">$last_full_backup</span>...&quot;</span>  </span><br><span class="line">    xtrabackup --user=<span class="variable">$MYSQL_USER</span> --password=<span class="variable">$MYSQL_PASSWORD</span> --backup --target-dir=<span class="string">&quot;<span class="variable">$BACKUP_DIR</span>/inc_<span class="variable">$DATE</span>&quot;</span> --incremental-basedir=<span class="string">&quot;<span class="variable">$last_full_backup</span>&quot;</span>  </span><br><span class="line">    <span class="keyword">if</span> [ $? -eq 0 ]; <span class="keyword">then</span>  </span><br><span class="line">        log_info <span class="string">&quot;Incremental backup completed successfully.&quot;</span>  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">        log_info <span class="string">&quot;Incremental backup failed.&quot;</span>  </span><br><span class="line">        <span class="built_in">exit</span> 1  </span><br><span class="line">    <span class="keyword">fi</span>  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># æ ¹æ®æ˜ŸæœŸå‡ æ‰§è¡Œå¤‡ä»½  </span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$WEEKDAY</span> <span class="keyword">in</span>  </span><br><span class="line">    7)  <span class="comment"># æ˜ŸæœŸæ—¥  </span></span><br><span class="line">        full_backup  </span><br><span class="line">        ;;  </span><br><span class="line">    [1-6])  <span class="comment"># æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸå…­  </span></span><br><span class="line">        incremental_backup  </span><br><span class="line">        ;;  </span><br><span class="line">    *)  </span><br><span class="line">        log_info <span class="string">&quot;Unknown weekday <span class="variable">$WEEKDAY</span>, skipping backup.&quot;</span>  </span><br><span class="line">        <span class="built_in">exit</span> 0  </span><br><span class="line">        ;;  </span><br><span class="line"><span class="keyword">esac</span>  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># è„šæœ¬ç»“æŸ  </span></span><br><span class="line">log_info <span class="string">&quot;Backup script finished.&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-æ—¶é—´åŒæ­¥"><a href="#3-æ—¶é—´åŒæ­¥" class="headerlink" title="3. æ—¶é—´åŒæ­¥"></a>3. æ—¶é—´åŒæ­¥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒæ­¥ç½‘ç»œæ—¶é—´ï¼š</span></span><br><span class="line">yum install -y ntp</span><br><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line">nameï¼š<span class="built_in">sync</span> system time</span><br><span class="line">* * * * * /usr/sbin/ntpdate cn.pool.ntp.org &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1ã€å‡†å¤‡å·¥ä½œç›®å½•</span><br><span class="line">[root@m01 opt]# <span class="built_in">cd</span> /etc/ansible/roles/</span><br><span class="line">[root@m01 roles]# <span class="built_in">mkdir</span> ../&#123;group_vars,host_vars&#125;</span><br><span class="line">[root@m01 roles]# <span class="built_in">touch</span> ../site.yml</span><br><span class="line"></span><br><span class="line">2ã€ä½¿ç”¨å‘½ä»¤åˆ›å»ºé¡¹ç›®çš„å·¥ä½œç›®å½•</span><br><span class="line">[root@m01 roles]# ansible-galaxy init ntp</span><br><span class="line">- Role lb was created successfully</span><br><span class="line"></span><br><span class="line">3ã€è¿›å…¥å·¥ä½œç›®å½•</span><br><span class="line">[root@m01 roles]# <span class="built_in">cd</span> ntp</span><br><span class="line"></span><br><span class="line">4ã€æˆ‘æƒ³åŒæ­¥ç½‘ç»œæ—¶é—´ï¼Œæˆ‘è¦ä¹¦å†™ä»»åŠ¡</span><br><span class="line">[root@m01 files]# <span class="built_in">cd</span> ../tasks/</span><br><span class="line">[root@m01 tasks]# vim main.yml </span><br><span class="line">- name: å®‰è£…ntpæœåŠ¡</span><br><span class="line">  yum:</span><br><span class="line">  name: ntp</span><br><span class="line"></span><br><span class="line">- name: åŒæ­¥ç½‘ç»œæ—¶é—´</span><br><span class="line">  cron:</span><br><span class="line">    name: ntpåŒæ­¥ç½‘ç»œæ—¶é—´</span><br><span class="line">    job: /usr/sbin/ntpdate cn.pool.ntp.org &amp;&gt;/dev/null</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">5ã€site.ymlçš„ä¹¦å†™(ä¹¦å†™å…¥å£æ–‡ä»¶)</span><br><span class="line">[root@m01 meta]# <span class="built_in">cd</span> ../..</span><br><span class="line"><span class="comment">############site.ymlå’Œroleså¹³çº§ï¼ï¼ï¼</span></span><br><span class="line">- hosts: all</span><br><span class="line">  roles:</span><br><span class="line">    - &#123;role: ntp&#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">##æ£€æµ‹</span></span><br><span class="line"><span class="built_in">date</span> 040115302023.30   <span class="comment">#ä¿®æ”¹æ—¶é—´</span></span><br><span class="line">2023å¹´4æœˆ1æ—¥ä¸‹åˆ3ç‚¹30åˆ†</span><br></pre></td></tr></table></figure>
<h2 id="4ã€æ­å»ºNginx-Tomcatæ­å»ºJpress"><a href="#4ã€æ­å»ºNginx-Tomcatæ­å»ºJpress" class="headerlink" title="4ã€æ­å»ºNginx+Tomcatæ­å»ºJpress"></a>4ã€æ­å»ºNginx+Tomcatæ­å»ºJpress</h2><p><strong>1. yumå®‰è£…tomcat</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ç« æ¥æºï¼š</span><br><span class="line">https://www.cnblogs.com/asheng2016/p/tomcat.html#2-yumå®‰è£…mysql</span><br><span class="line"></span><br><span class="line">1. yumå®‰è£…tomcat</span><br><span class="line">[root@m01 ~]# yum install tomcat tomcat-webapps tomcat-admin-webapps -y</span><br><span class="line"></span><br><span class="line">2. å¯åŠ¨tomcat</span><br><span class="line">[root@m01 ~]# systemctl start tomcat</span><br><span class="line">[root@m01 ~]# netstat -lntup | grep 8080</span><br><span class="line"></span><br><span class="line"><span class="comment">#tomcaté»˜è®¤ç›‘å¬åœ¨8080ç«¯å£ï¼Œæ³¨æ„ä¸èƒ½å†²çªï¼Œé»˜è®¤çš„ä»£ç å­˜æ”¾ä½ç½®æ˜¯/usr/share/tomcat/webapps/ï¼Œå®‰è£…å®Œæ¯•ä¹‹åç›´æ¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®å¯çœ‹åˆ°é»˜è®¤é¡µé¢ï¼š</span></span><br><span class="line">10.0.0.61:8080</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615205940016.png" alt="image-20240615205940016"></p>
<p><strong>2. yumå®‰è£…MySQL</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3. åœ¨db01æ•°æ®åº“ä¸­åˆ›å»ºjpressæ•°æ®åº“ </span><br><span class="line">MariaDB [(none)]&gt; create database jpress;</span><br><span class="line"></span><br><span class="line">4. åˆ›å»ºè¿œç¨‹ç™»é™†ç”¨æˆ·jp_user</span><br><span class="line">grant all on *.* to jp_user@<span class="string">&#x27;172.16.1.%&#x27;</span> identified by <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·</span></span><br><span class="line">MariaDB [(none)]&gt; <span class="keyword">select</span> user,host from mysql.user;</span><br></pre></td></tr></table></figure>
<p><strong>3. ä¸‹è½½JPresså¹¶å®‰è£…</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯ä»¥åˆ°è¿™ä¸‹è½½0.4ç‰ˆæœ¬çš„waråŒ…</span></span><br><span class="line">http://git.oschina.net/GalaIO/jpress/blob/master/wars/jpress-web-newest.war</span><br><span class="line"></span><br><span class="line">æˆ‘å·²ç»è£…å¤‡å¥½äº†jpressåŒ…ï¼Œä¸Šä¼ åˆ°æœºå™¨é‡Œé¢çš„ï¼Œæˆ‘å°±ä¸è¿œç¨‹ä¸‹è½½äº†</span><br><span class="line"></span><br><span class="line">1ã€æŠŠjpress-web-newest.warç§»åŠ¨åˆ°/usr/share/tomcat/webapps/ï¼Œå¹¶ä¸”åˆ·æ–°ä¸€ä¸‹10.0.0.7:8080ï¼Œä¹‹åå°±ä¼šçœ‹åˆ°waråŒ…è¢«tomcatè‡ªåŠ¨è§£å‹äº†ã€‚</span><br><span class="line"></span><br><span class="line">[root@m01 ~]# <span class="built_in">mv</span> jpress-web-newest.war /usr/share/tomcat/webapps/</span><br><span class="line">[root@m01 ~]# <span class="built_in">ls</span> -lh /usr/share/tomcat/webapps/</span><br><span class="line">total 20M</span><br><span class="line">drwxr-xr-x 8 tomcat tomcat 127 Jun 16 04:56 examples</span><br><span class="line">drwxr-xr-x 5 root   tomcat  87 Jun 16 04:56 host-manager</span><br><span class="line">drwxr-xr-x 6 tomcat tomcat  86 Jun 16 05:27 jpress-web-newest</span><br><span class="line">-rw-rw-rw- 1 root   root   20M Jun 15 21:26 jpress-web-newest.war</span><br><span class="line">drwxr-xr-x 5 root   tomcat 103 Jun 16 04:56 manager</span><br><span class="line">drwxr-xr-x 3 tomcat tomcat 306 Jun 16 04:56 ROOT</span><br><span class="line">drwxr-xr-x 5 tomcat tomcat  86 Jun 16 04:56 sample</span><br><span class="line"></span><br><span class="line">jpress-web-newest.waræ˜¯æˆ‘ä»¬ç§»åŠ¨è¿‡æ¥çš„ã€‚jpress-web-newestç›®å½•æ˜¯tomcatå¸®æˆ‘ä»¬è§£å‹çš„ï¼Œå…¶å®ƒç›®å½•éƒ½æ˜¯ä¹‹å‰å°±å·²ç»å­˜åœ¨çš„ï¼Œä¸ç”¨ç®¡ã€‚</span><br><span class="line"></span><br><span class="line">2ã€ æµè§ˆå™¨è®¿é—®10.0.0.61:8080/jpress-web-newestå¼€å§‹å®‰è£…JPress</span><br><span class="line"></span><br><span class="line">å®‰è£…æµç¨‹å’Œå…¶å®ƒäº§å“åŸºæœ¬ä¸€è‡´ï¼Œæ— å¤–ä¹æ˜¯æä¾›æ•°æ®åº“ä¿¡æ¯å’Œåˆ›å»ºç½‘ç«™ç®¡ç†å‘˜è´¦å·ã€‚</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615212034538.png" alt="image-20240615212034538" style="zoom:67%;" /></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615213309521.png" alt="image-20240615213309521" style="zoom:67%;" /></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615213423218.png" alt="image-20240615213423218" style="zoom:67%;" /></p>
<p>å®‰è£…å®Œæ¯•éœ€è¦é‡å¯ä¸€æ¬¡tomcatï¼Œæ‰å¯ä»¥æ­£å¸¸è®¿é—®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@m01 ~]# systemctl restart tomcat</span><br><span class="line"></span><br><span class="line">æµè§ˆå™¨è®¿é—®jpressé¦–é¡µï¼šåœ¨æµè§ˆå™¨ä¸­è¾“å…¥</span><br><span class="line">10.0.0.61:8080/jpress-web-newest/</span><br><span class="line"></span><br><span class="line">jpressåå°ç®¡ç†é¡µé¢</span><br><span class="line">10.0.0.61:8080/jpress-web-newest/admin/</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615213704686.png" alt="image-20240615213704686"></p>
<p>pressåå°ç®¡ç†é¡µé¢ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615213919112.png" alt="image-20240615213919112" style="zoom:67%;" /></p>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„JPresså·²ç»å¯ä»¥å•ç‹¬ä½¿ç”¨äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ©ç”¨nginxä»£ç†è½¬å‘åŠŸèƒ½ï¼Œé…ç½®nginxè®©å®ƒä»¬ååŒå·¥ä½œã€‚</p>
<p><strong>4. é…ç½®tomcatä½¿å…¶å¯ä»¥éƒ¨ç½²å¤šä¸ªç½‘ç«™</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœç†Ÿæ‚‰nginxä½¿ç”¨çš„è¯ï¼Œå¯èƒ½ä¼šæœ‰ä¸ªç–‘é—®ï¼Œæ¯æ¬¡è®¿é—®jpressåšå®¢ï¼Œéƒ½éœ€è¦è¾“å…¥10.0.0.7:8080/jpress-web-newest/è¿™ä¹ˆä¸€å¤§ä¸²ï¼Œé»˜è®¤ç«¯å£ä¸ç”¨80ä¹Ÿå°±ä¸è¯´äº†ï¼Œè¿˜éœ€è¦è¾“å…¥è‡ªå·±è¾“å…¥ç›®å½•ç»“æ„ï¼Œæ˜¾ç„¶ä¸å¤ªåˆç†ï¼Œå¹¶ä¸”è¿™æ ·åšçš„è¯ï¼Œnginxé…ç½®ä»£ç†è½¬å‘å°±ç©ä¸è½¬äº†ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æŠŠjpressç»™æ¬ç§»åˆ°ä¸€ä¸ªåˆé€‚çš„ä½ç½®ã€‚</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬çŸ¥é“ç›´æ¥è®¿é—®10.0.0.7:8080æ‰“å¼€çš„æ˜¯tomcaté»˜è®¤é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢çš„ä»£ç æ˜¯å†™åœ¨/usr/share/tomcat/webapps/ROOT/ç›®å½•é‡Œçš„ï¼Œå½“ç„¶å¯ä»¥æŠŠè¿™é‡Œé¢çš„å†…å®¹å…¨éƒ¨åˆ é™¤ï¼Œç„¶åæŠŠjpressä»£ç <span class="built_in">mv</span>è¿›æ¥ï¼Œæ˜¾ç„¶è¿™ä¸æ˜¯æœ€ä½³è§£å†³æ–¹æ¡ˆï¼Œå¦‚æœè¿˜éœ€è¦å®‰è£…å…¶å®ƒäº§å“ï¼Œåˆç©ä¸è½¬äº†ã€‚</span><br><span class="line"></span><br><span class="line">æœ€ç»ˆæˆ‘ä»¬è§‰å¾—é‡‡ç”¨ä¸‹è¿°æ–¹æ¡ˆäº†éƒ¨ç½²ç¬¬2ä¸ªäº§å“(é»˜è®¤æ˜¯ç¬¬1ä¸ªï¼Œjpressæ˜¯ç¬¬2ä¸ª)ï¼š</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä¸€ä»½/usr/share/tomcat/webapps/</span><br><span class="line">ä¿®æ”¹/usr/share/tomcat/conf/server.xmlï¼Œå¢åŠ ç¬¬2å¥—é…ç½®</span><br><span class="line">è¯¦ç»†æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="comment">#1.å¤åˆ¶ä¸€ä»½webappså¹¶å‘½åä¸ºwebapps-jpress</span></span><br><span class="line">[root@m01 ~]# <span class="built_in">cp</span> -rp /usr/share/tomcat/webapps/ /usr/share/tomcat/webapps-jpress</span><br><span class="line">æ³¨æ„ç›®å½•å±æ€§ï¼Œç”¨æˆ·èº«ä»½ï¼Œéœ€ä¿æŒä¸å˜</span><br><span class="line"></span><br><span class="line"><span class="comment">#2 æŠŠjpressçš„ä»£ç å…¨éƒ¨ç§»åŠ¨åˆ°/usr/share/tomcat/webapps-jpress</span></span><br><span class="line">[root@m01 webapps-jpress]# <span class="built_in">cd</span> /usr/share/tomcat/webapps-jpress; <span class="built_in">pwd</span></span><br><span class="line">/usr/share/tomcat/webapps-jpress</span><br><span class="line">[root@m01 webapps-jpress]#   <span class="built_in">rm</span> -rf ROOT/*</span><br><span class="line">[root@m01 webapps-jpress]# <span class="built_in">mv</span> jpress-web-newest/* ROOT/</span><br><span class="line">[root@m01 webapps-jpress]# <span class="built_in">ls</span> -l /usr/share/tomcat/webapps-jpress/ROOT/</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x  3 tomcat tomcat  38 Jun 16 05:27 META-INF</span><br><span class="line">-rw-r--r--  1 tomcat tomcat  96 Jul 27  2016 robots.txt</span><br><span class="line">drwxr-xr-x 11 tomcat tomcat 139 Jun 16 05:27 static</span><br><span class="line">drwxr-xr-x  4 tomcat tomcat  31 Jun 16 05:27 templates</span><br><span class="line">drwxr-xr-x  6 tomcat tomcat  75 Jun 16 05:27 WEB-INF</span><br><span class="line"></span><br><span class="line"><span class="comment">#3 ä¿®æ”¹/usr/share/tomcat/conf/server.xml</span></span><br><span class="line">éœ€è¦åœ¨/usr/share/tomcat/conf/server.xmlæ·»åŠ ä¸€å¯¹Serviceæ ‡ç­¾ï¼Œæ¥æ˜¯webapps-jpressæ–‡ä»¶ç”Ÿæ•ˆï¼Œè¯¥æ–‡ä»¶é‡Œå·²ç»æœ‰ä¸€ä»½é»˜è®¤Serviceæ ‡ç­¾æ˜¯å®šä¹‰é»˜è®¤é¦–é¡µçš„ï¼Œæˆ‘ä»¬åªéœ€å°†å…¶å¤åˆ¶æ‹·è´ä¸€ä»½ï¼Œå†æ”¹æ”¹ç›‘å¬ç«¯å£ï¼Œå³å¯æ®ä¸ºå·±ç”¨ï¼Œä¸‹é¢æ˜¯ä¸€å¼ å»æ‰æ³¨é‡Šåçš„æˆªå›¾ï¼Œå¯ä»¥ä½œä¸ºå¯¹ç…§ï¼š</span><br><span class="line"></span><br><span class="line"><span class="comment">#4.é‡å¯ tomcat ï¼Œæ£€æŸ¥ç«¯å£</span></span><br><span class="line">[root@m01 webapps-jpress]# systemctl restart tomcat</span><br><span class="line">[root@m01 webapps-jpress]# netstat -lntup| grep 7070</span><br><span class="line">tcp6       0      0 :::7070                 :::*                    LISTEN      13307/java   </span><br><span class="line"></span><br><span class="line"><span class="comment">#5. æ­¤æ—¶æµè§ˆå™¨è®¿é—®10.0.0.61:7070å¯ä»¥ç›´æ¥çœ‹åˆ°jpressé¡µé¢ï¼š</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://md-img-1252230138.cos.ap-beijing.myqcloud.com/2018-10-03-19-35-24.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615220951890.png" alt="image-20240615220951890"></p>
<p><strong>5. å®‰è£…nginxå¹¶é…ç½®</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">ä¸‹é¢å°±æ˜¯é…ç½®nginxä»£ç†tomcatï¼Œå®ç°åŸŸåç›´æ¥è®¿é—®jpress</span><br><span class="line"></span><br><span class="line"><span class="comment">#1 å®‰è£…nginxå¹¶è¿›è¡Œä¸€äº›åŸºç¡€ä¼˜åŒ–</span></span><br><span class="line">[root@web01 ~]# yum install nginx -y</span><br><span class="line"><span class="comment">#æ·»åŠ è™šæ‹Ÿç”¨æˆ·www</span></span><br><span class="line">groupadd -g 666 www</span><br><span class="line">useradd -u666 -g666 -s /sbin/nologin -M www</span><br><span class="line"><span class="comment">#è®¾ç½®nginxè¿è¡Œç”¨æˆ·ä¸ºwww</span></span><br><span class="line">sed -i <span class="string">&#x27;/^user/user www;&#x27;</span> /etc/nginx/nginx.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#2.  é…ç½®nginx jpress.conf</span></span><br><span class="line">[root@m01 webapps-jpress]# vim /etc/nginx/conf.d/jpress.conf</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name www.jpress.com;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass       http://127.0.0.1:7070/;</span><br><span class="line">        proxy_set_header Host            <span class="variable">$http_host</span>;</span><br><span class="line">        proxy_set_header X-Real-IP       <span class="variable">$remote_addr</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"></span><br><span class="line">        proxy_connect_timeout 30;</span><br><span class="line">        proxy_send_timeout    60;</span><br><span class="line">        proxy_read_timeout    60;</span><br><span class="line"></span><br><span class="line">        proxy_buffering      on;</span><br><span class="line">        proxy_buffer_size    32k;</span><br><span class="line">        proxy_buffers        4 128k;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[root@m01 webapps-jpress]# nginx -t</span><br><span class="line">[root@m01 webapps-jpress]# systemctl restart nginx</span><br><span class="line"></span><br><span class="line">æœ€å…³é”®çš„å°±æ˜¯è¿™ä¸€è¡Œproxy_pass http://127.0.0.1:7070/;</span><br><span class="line"></span><br><span class="line"><span class="comment">#3 è®¾ç½®windows hostsæ–‡ä»¶è§£æ</span></span><br><span class="line"></span><br><span class="line">C:\Windows\System32\drivers\etc\hosts</span><br><span class="line">10.0.0.61 www.jpress.com</span><br><span class="line"></span><br><span class="line"><span class="comment">#4. æµè§ˆå™¨è®¿é—®</span></span><br><span class="line"> www.jpress.com </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615222801082.png" alt="image-20240615222801082"></p>
<p>è®¿é—®åå°ç®¡ç†é¡µé¢  www.jpress.com/admin   </p>
<p>è¿›å…¥åå°é¡µé¢ï¼Œå…ˆå‘å¸ƒä¸€ä¸ªæ–‡ç« </p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240615222921293.png" alt="image-20240615222921293"></p>
<p><strong>6. å°†å·²ç»å®‰è£…å¥½çš„jpressæ‰“åŒ…</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">æœ¬æ­¥éª¤æ˜¯å¯é€‰é¡¹ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿åœ¨å¤šå°æœºå™¨éƒ¨ç½²jpressï¼Œè¿™é‡Œçš„æ‰“åŒ…å°±æ˜¯Linuxä¸Šçš„.tar.gzå‹ç¼©åŒ…ï¼Œæ¯”è¾ƒç®€å•å°±æ˜¯åˆ©ç”¨tomcatæŠŠ.warè§£å‹ä¹‹åæ‰“æˆå‹ç¼©åŒ…æ–¹ä¾¿æ—¥åä½¿ç”¨ã€‚ä½†æ˜¯æˆ‘æ›´å–œæ¬¢ä¸€ç§æ›´å½»åº•çš„æ‰“åŒ…ï¼ŒæŠŠæ•´ä¸ª/usr/share/tomcat/webapps-jpress/æ‰“åŒ…ï¼Œå¹¶ä¸”æŠŠæ•°æ®åº“å¤‡ä»½ï¼Œä»¥åå†å®‰è£…ç›´æ¥è§£å‹ï¼Œå¯¼å…¥æ•°æ®åº“ï¼Œæå®šã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœå†æ­¤å®‰è£…æ—¶ï¼Œæ•°æ®åº“è¿æ¥ä¿¡æ¯å˜æ›´ï¼Œåˆ™éœ€è¦ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œä½¿ç”¨ä¸‹è¿°å‘½ä»¤å¯ä»¥æŸ¥æ‰¾jpressæ•°æ®åº“è¿æ¥ä¿¡æ¯åœ¨å“ªï¼š</span><br><span class="line">[root@web01 ~]# grep -R <span class="string">&#x27;As4k.top&#x27;</span> /usr/share/tomcat/webapps-jpress/</span><br><span class="line">/usr/share/tomcat/webapps-jpress/ROOT/WEB-INF/classes/db.properties:db_password=As4k.top</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“åŒ…ç›®å½•ä½¿ç”¨tarå‘½ä»¤å³å¯ï¼š</span></span><br><span class="line">[root@m01 webapps-jpress]# <span class="built_in">cd</span> /usr/share/tomcat/; <span class="built_in">pwd</span></span><br><span class="line">/usr/share/tomcat</span><br><span class="line">[root@m01 tomcat]# <span class="built_in">mkdir</span> ~/jp_ansible</span><br><span class="line">[root@m01 tomcat]# tar zcf webapps-jpress.tgz webapps-jpress</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ«å¿˜äº†/usr/share/tomcat/conf/server.xmlä¹Ÿè¦ä¿ç•™ä¸€ä»½ã€‚</span></span><br><span class="line">[root@m01 tomcat]# <span class="built_in">cp</span> /usr/share/tomcat/conf/server.xml ~/jp_ansible</span><br><span class="line">[root@m01 tomcat]# <span class="built_in">mv</span> webapps-jpress.tgz ~/jp_ansible</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤‡ä»½jpressç½‘é¡µé…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@m01 tomcat]# <span class="built_in">cp</span> /etc/nginx/conf.d/jpress.conf  ~/jp_ansible</span><br><span class="line"></span><br><span class="line"><span class="comment">#db01æœºå™¨å¤‡ä»½jpressæ•°æ®åº“ï¼š</span></span><br><span class="line">[root@db01 ~]# mysqldump -B jpress &gt; /tmp/jpress.sql</span><br><span class="line">[root@db01 ~]# scp /tmp/jpress.sql  root@172.16.1.61:/root/jp_ansible</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡å­˜æ”¾çš„ç›®å½•</span></span><br><span class="line">/usr/share/tomcat/webapps-jpress/ROOT/attachment</span><br><span class="line"></span><br><span class="line">ç™»å½•æ•°æ®åº“ï¼ŒæŸ¥çœ‹å†™çš„åšå®¢åœ¨æ•°æ®åº“ä¸­çš„ä½ç½®ã€‚</span><br><span class="line">MariaDB [(none)]&gt; <span class="keyword">select</span> * from jpress.jpress_content\G</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¯ä»¥é‡å¯nginx</span><br><span class="line">å…³é—­é˜²ç«å¢™</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240617174708695.png" alt="image-20240617174708695"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ•°æ®åº“æ— æ³•å¯åŠ¨</span></span><br><span class="line"></span><br><span class="line">[root@db02 ~]# systemctl start mariadb</span><br><span class="line">Job <span class="keyword">for</span> mariadb.service failed because the control process exited with error code. See <span class="string">&quot;systemctl status mariadb.service&quot;</span> and <span class="string">&quot;journalctl -xe&quot;</span> <span class="keyword">for</span> details.</span><br><span class="line">[root@db02 ~]# <span class="built_in">cp</span> /usr/share/mysql/my-huge.cnf /etc/my.cnf</span><br><span class="line"><span class="built_in">cp</span>: overwrite â€˜/etc/my.cnfâ€™? y</span><br><span class="line">[root@db02 ~]# systemctl start mariadb.service</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚ä¸‹æŠ¥é”™çš„è§£å†³åŠæ³•ï¼š</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240619163832230.png" alt="image-20240619163832230"></p>
<h2 id="5-zabbixç›‘æ§ï¼Œç›‘æ§ä¸€å°æœºå™¨"><a href="#5-zabbixç›‘æ§ï¼Œç›‘æ§ä¸€å°æœºå™¨" class="headerlink" title="5. zabbixç›‘æ§ï¼Œç›‘æ§ä¸€å°æœºå™¨"></a>5. zabbixç›‘æ§ï¼Œç›‘æ§ä¸€å°æœºå™¨</h2><div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»æœºå</th>
<th>ip</th>
<th>è§’è‰²</th>
</tr>
</thead>
<tbody>
<tr>
<td>zabbix</td>
<td>10.0.0.71 / 172.16.1.71</td>
<td>zabbix æœåŠ¡ç«¯</td>
</tr>
<tr>
<td>web01</td>
<td>10.0.0.7 / 172.16.1.7</td>
<td>zabbix å®¢æˆ·ç«¯</td>
</tr>
</tbody>
</table>
</div>
<p>ä¸€ã€éƒ¨ç½²zabbixæœåŠ¡ç«¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#zabbixå®˜ç½‘å®‰è£…æ­¥éª¤ç½‘å€</span></span><br><span class="line">https://www.zabbix.com/cn/download?zabbix=5.0&amp;os_distribution=centos&amp;os_version=7&amp;components=server_frontend_agent&amp;db=mysql&amp;ws=apache</span><br><span class="line"></span><br><span class="line">1ã€é…ç½®zabbixä»“åº“</span><br><span class="line">[root@zabbix ~]# rpm -Uvh https://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm</span><br><span class="line">Retrieving https://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm</span><br><span class="line">warning: /var/tmp/rpm-tmp.atkoeM: Header V4 RSA/SHA512 Signature, key ID a14fe591: NOKEY</span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:zabbix-release-5.0-1.el7         <span class="comment">################################# [100%]</span></span><br><span class="line"> </span><br><span class="line">2ã€æ¸…é™¤ç¼“å­˜</span><br><span class="line">[root@zabbix ~]# yum clean all</span><br><span class="line"></span><br><span class="line">3ã€å®‰è£…Zabbix serverï¼ŒWebå‰ç«¯ï¼Œagent æ•°æ®åº“</span><br><span class="line">[root@zabbix ~]#  yum install zabbix-server-mysql zabbix-agent mariadb-server -y </span><br><span class="line"></span><br><span class="line">4ã€å¯ç”¨Red Hatè½¯ä»¶é›†åˆ å®‰è£…sclæº è§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜</span><br><span class="line">[root@zabbix ~]#  yum install centos-release-scl -y</span><br><span class="line"></span><br><span class="line">5ã€ç¼–è¾‘é…ç½®æ–‡ä»¶ å¯ç”¨zabbixå‰ç«¯å­˜å‚¨åº“</span><br><span class="line">[root@zabbix ~]# vim  /etc/yum.repos.d/zabbix.repo </span><br><span class="line">[zabbix-frontend]</span><br><span class="line">...</span><br><span class="line">enabled=1</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">6ã€å®‰è£…Zabbixå‰ç«¯è½¯ä»¶åŒ…ã€‚</span><br><span class="line">[root@zabbix ~]# yum -y install zabbix-web-mysql-scl zabbix-apache-conf-scl</span><br></pre></td></tr></table></figure>
<p>äºŒã€é…ç½®zabbixæœåŠ¡ç«¯çš„æ•°æ®åº“</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">1ã€å¯åŠ¨æ•°æ®åº“</span><br><span class="line">[root@zabbix ~]# systemctl start mariadb</span><br><span class="line">[root@zabbix ~]# systemctl <span class="built_in">enable</span> mariadb</span><br><span class="line"></span><br><span class="line">2ã€åˆ›å»ºzabbixåº“</span><br><span class="line">[root@zabbix ~]# mysql</span><br><span class="line">MariaDB [(none)]&gt; create database zabbix character <span class="built_in">set</span> utf8 collate utf8_bin;</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt;  create user zabbix@localhost identified by <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; grant all privileges on zabbix.* to zabbix@localhost;</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; <span class="built_in">set</span> global log_bin_trust_function_creators = 1;</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; quit;</span><br><span class="line"></span><br><span class="line">3ã€å¯¼å…¥åˆå§‹æ¶æ„å’Œæ•°æ®ï¼Œç³»ç»Ÿå°†æç¤ºè¾“å…¥æ–°åˆ›å»ºçš„å¯†ç ã€‚</span><br><span class="line">åˆå§‹åŒ–æ•°æ®(ä¸šåŠ¡è¿è¡Œå‰éœ€è¦ä¾èµ–æ•°æ®åº“ä¸­çš„ä¸€äº›æ•°æ®è¡¨æ ¼ éœ€è¦æå‰å¯¼å…¥)</span><br><span class="line">[root@zabbix ~]# zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix</span><br><span class="line">Enter password: <span class="comment">#æˆ‘é…ç½®çš„å¯†ç æ˜¯123</span></span><br><span class="line"></span><br><span class="line">4ã€å¯¼å…¥æ•°æ®åº“æ¶æ„åç¦ç”¨log_bin_trust_function_creatorsé€‰é¡¹ã€‚</span><br><span class="line">[root@zabbix ~]# mysql</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; <span class="built_in">set</span> global log_bin_trust_function_creators = 0;</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; quit</span><br><span class="line"></span><br><span class="line">5ã€é…ç½®zabbixè¿æ¥æ•°æ®çš„ä¿¡æ¯</span><br><span class="line">[root@zabbix ~]# vim  /etc/zabbix/zabbix_server.conf</span><br><span class="line">DBName=zabbix</span><br><span class="line">DBUser=zabbix</span><br><span class="line">DBPassword=123     <span class="comment">#å°†æ³¨é‡Šæ‰“å¼€é…ç½®åˆ›å»ºæ•°æ®åº“ä¸­çš„zabbixç”¨æˆ·çš„å¯†ç </span></span><br><span class="line"></span><br><span class="line">6ã€ä¿®æ”¹æ—¶åŒº</span><br><span class="line">[root@zabbix ~]# <span class="built_in">echo</span> <span class="string">&quot;php_value[date.timezone] = Asia/ShangHai&quot;</span> &gt;&gt; /etc/opt/rh/rh-php72/php-fpm.d/zabbix.conf</span><br><span class="line">æˆ–è€…</span><br><span class="line">[root@zabbix ~]# <span class="built_in">tail</span> -1 /etc/opt/rh/rh-php72/php-fpm.d/zabbix.conf</span><br><span class="line">                 php_value[date.timezone] = Asia/ShangHai</span><br><span class="line"></span><br><span class="line">7ã€å¯åŠ¨æœåŠ¡ server agent httpd php åŠ å…¥å¼€æœºè‡ªå¯</span><br><span class="line">[root@zabbix ~]# systemctl start zabbix-server zabbix-agent httpd rh-php72-php-fpm;systemctl <span class="built_in">enable</span> zabbix-server zabbix-agent httpd rh-php72-php-fpm</span><br><span class="line"></span><br><span class="line">8ã€æˆ‘zabbixæœåŠ¡å™¨çš„ipæ˜¯10.0.0.71</span><br><span class="line">æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://10.0.0.71/zabbix</span><br></pre></td></tr></table></figure>
<h6 id="ä¸‹é¢è¿™æ®µä¸ç”¨ç®¡ï¼Œå†™roleså¯ä»¥å‚è€ƒä¸‹é¢è¿™ä¸ªæ–¹æ³•æ­¥éª¤ï¼Œå¯¼å…¥æ•°æ®åº“çš„æ—¶å€™ä¸ç”¨è¾“å¯†ç ï¼Œå…ˆå¯¼å…¥æ•°æ®åº“ï¼Œå†åˆ›å»ºç”¨æˆ·"><a href="#ä¸‹é¢è¿™æ®µä¸ç”¨ç®¡ï¼Œå†™roleså¯ä»¥å‚è€ƒä¸‹é¢è¿™ä¸ªæ–¹æ³•æ­¥éª¤ï¼Œå¯¼å…¥æ•°æ®åº“çš„æ—¶å€™ä¸ç”¨è¾“å¯†ç ï¼Œå…ˆå¯¼å…¥æ•°æ®åº“ï¼Œå†åˆ›å»ºç”¨æˆ·" class="headerlink" title="######ä¸‹é¢è¿™æ®µä¸ç”¨ç®¡ï¼Œå†™roleså¯ä»¥å‚è€ƒä¸‹é¢è¿™ä¸ªæ–¹æ³•æ­¥éª¤ï¼Œå¯¼å…¥æ•°æ®åº“çš„æ—¶å€™ä¸ç”¨è¾“å¯†ç ï¼Œå…ˆå¯¼å…¥æ•°æ®åº“ï¼Œå†åˆ›å»ºç”¨æˆ·"></a>######ä¸‹é¢è¿™æ®µä¸ç”¨ç®¡ï¼Œå†™roleså¯ä»¥å‚è€ƒä¸‹é¢è¿™ä¸ªæ–¹æ³•æ­¥éª¤ï¼Œå¯¼å…¥æ•°æ®åº“çš„æ—¶å€™ä¸ç”¨è¾“å¯†ç ï¼Œå…ˆå¯¼å…¥æ•°æ®åº“ï¼Œå†åˆ›å»ºç”¨æˆ·</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2ã€è¿æ¥æ•°æ®åº“</span></span><br><span class="line">[root@zabbix ~]# mysql</span><br><span class="line"></span><br><span class="line"><span class="comment">#3ã€åˆ›å»ºzabbixåº“</span></span><br><span class="line">MariaDB [(none)]&gt; create database zabbix character <span class="built_in">set</span> utf8 collate utf8_bin;</span><br><span class="line"></span><br><span class="line"><span class="comment">#4ã€é€€å‡ºæ•°æ®åº“</span></span><br><span class="line">MariaDB [(none)]&gt; <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#5ã€è¿›å…¥SQLæ–‡ä»¶ç›®å½•</span></span><br><span class="line">[root@zabbix ~]# <span class="built_in">cd</span> /usr/share/doc/zabbix-server-mysql-3.4.15/</span><br><span class="line"></span><br><span class="line"><span class="comment">#6ã€å¯¼å…¥SQLæ–‡ä»¶</span></span><br><span class="line">[root@zabbix zabbix-server-mysql-3.4.15]# zcat create.sql.gz |mysql zabbix</span><br><span class="line"></span><br><span class="line"><span class="comment">#7ã€æ£€æŸ¥å¯¼å…¥ç»“æœ</span></span><br><span class="line">MariaDB [(none)]&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| <span class="built_in">test</span>               |</span><br><span class="line">| zabbix             |</span><br><span class="line">+--------------------+</span><br><span class="line">5 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br><span class="line"></span><br><span class="line">MariaDB [(none)]&gt; use zabbix;</span><br><span class="line">Reading table information <span class="keyword">for</span> completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line">MariaDB [zabbix]&gt; show tables;</span><br><span class="line">+----------------------------+</span><br><span class="line">| Tables_in_zabbix           |</span><br><span class="line">+----------------------------+</span><br><span class="line">| acknowledges               |</span><br><span class="line">| actions                    |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#8ã€åˆ›å»ºç”¨æˆ·</span></span><br><span class="line">MariaDB [zabbix]&gt; grant all on zabbix.* to zabbix@<span class="string">&#x27;localhost&#x27;</span> identified by <span class="string">&#x27;123&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®         10.0.0.71/zabbix</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621210113227.png" alt="image-20240621210113227"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621210332061.png" alt="image-20240621210332061"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621210501091.png" alt="image-20240621210501091"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621210531319.png" alt="image-20240621210531319"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621210612955.png" alt="image-20240621210612955"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621210630905.png" alt="image-20240621210630905"></p>
<p>é»˜è®¤è´¦å·ï¼š Admin</p>
<p>é»˜è®¤å¯†ç ï¼š zabbix</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621210743411.png" alt="image-20240621210743411"></p>
<p>åŠ å…¥é¡µé¢ä¹‹åæ˜¯è‹±æ–‡çš„ï¼Œä¸æ–¹ä¾¿é˜…è¯»</p>
<p>è°ƒæ•´ä¸ºä¸­æ–‡å­—ä½“</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621210959619.png" alt="image-20240621210959619"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621211330330.png" alt="image-20240621211330330"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621211405717.png" alt="image-20240621211405717"></p>
<p>è§£å†³ä¸­æ–‡æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜</p>
<p>æŸ¥æ‰¾windowså­—ä½“ï¼ˆå¦‚ï¼šé»‘ä½“å¸¸è§„ï¼‰    å¤åˆ¶åˆ°zabbixçš„å­—ä½“ç›®å½•ä¸‹/usr/share/fonts/dejavu/</p>
<p>windowså­—ä½“ä½ç½®ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621211619700.png" alt="image-20240621211619700"></p>
<p>ä¸Šä¼ å…¶ä¸­ä¸€ä¸ªå­—ä½“åˆ°/usr/share/fonts/dejavu/ å¹¶æ”¹å</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@zabbix ~]# <span class="built_in">cd</span> /usr/share/fonts/dejavu/</span><br><span class="line"></span><br><span class="line">[root@zabbix dejavu]# rz</span><br><span class="line">rz waiting to receive.**[root@zabbix dejavu]# ll</span><br><span class="line">total 5328</span><br><span class="line">-rw-r--r-- 1 root root 611212 Feb 27  2011 DejaVuSans-BoldOblique.ttf</span><br><span class="line">-rw-r--r-- 1 root root 672300 Feb 27  2011 DejaVuSans-Bold.ttf</span><br><span class="line">-rw-r--r-- 1 root root 580168 Feb 27  2011 DejaVuSansCondensed-BoldOblique.ttf</span><br><span class="line">-rw-r--r-- 1 root root 631992 Feb 27  2011 DejaVuSansCondensed-Bold.ttf</span><br><span class="line">-rw-r--r-- 1 root root 576004 Feb 27  2011 DejaVuSansCondensed-Oblique.ttf</span><br><span class="line">-rw-r--r-- 1 root root 643852 Feb 27  2011 DejaVuSansCondensed.ttf</span><br><span class="line">-rw-r--r-- 1 root root 345204 Feb 27  2011 DejaVuSans-ExtraLight.ttf</span><br><span class="line">-rw-r--r-- 1 root root 611556 Feb 27  2011 DejaVuSans-Oblique.ttf</span><br><span class="line">-rw-r--r-- 1 root root 720012 Feb 27  2011 DejaVuSans.ttf</span><br><span class="line">-rw-rw-rw- 1 root root 9753284 Feb 11  2017 SIMHEI.TTF</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤‡ä»½é»˜è®¤çš„å­—ä½“</span></span><br><span class="line">[root@zabbix dejavu]# <span class="built_in">mv</span> DejaVuSans.ttf DejaVuSans.ttf.bak</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†ä¸Šä¼ çš„å­—ä½“é‡å‘½åä¸ºé»˜è®¤çš„å­—ä½“</span></span><br><span class="line">[root@zabbix dejavu]# [root@zabbix dejavu]# <span class="built_in">mv</span> SIMHEI.TTF DejaVuSans.ttf</span><br><span class="line"></span><br><span class="line"><span class="comment">#é‡å¯zabbix-server</span></span><br><span class="line">[root@zabbix dejavu]# systemctl restart zabbix-server</span><br></pre></td></tr></table></figure>
<p>ä¸‰ã€é…ç½®zabbixå®¢æˆ·ç«¯   å®‰è£…5.0å®¢æˆ·ç«¯:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1ã€é…ç½®ä»“åº“</span><br><span class="line">[root@web01 ~]#  rpm -Uvh https://repo.zabbix.com/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm</span><br><span class="line">å¦‚æœå®‰è£…æç¤ºè½¯ä»¶å†²çª:</span><br><span class="line">[root@web02 ~]# yum -y install centos-release-scl</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2ã€å®‰è£…å®¢æˆ·ç«¯agent</span><br><span class="line">[root@web02 ~]# yum -y install zabbix-agent</span><br><span class="line"></span><br><span class="line">3ã€é…ç½®å®¢æˆ·ç«¯å¹¶å¯åŠ¨</span><br><span class="line"><span class="comment">#ä¿®æ”¹é…ç½®æ–‡ä»¶ å°†å®¢æˆ·ç«¯çš„ipå†™å…¥é…ç½®æ–‡ä»¶</span></span><br><span class="line">[root@web01 ~]# vim /etc/zabbix/zabbix_agentd.conf </span><br><span class="line">Server=172.16.1.71</span><br><span class="line">ServerActive=172.16.1.71</span><br><span class="line"></span><br><span class="line">4ã€å¯åŠ¨</span><br><span class="line">[root@web01 ~]#  systemctl start zabbix-agent; systemctl <span class="built_in">enable</span> zabbix-agent</span><br><span class="line">æ£€æŸ¥10050ç«¯å£</span><br><span class="line">[root@web01 ~]# netstat -lntup| grep zabbix</span><br><span class="line">tcp        0      0 0.0.0.0:10050           0.0.0.0:*               LISTEN      16075/zabbix_agentd </span><br><span class="line">tcp6       0      0 :::10050                :::*                    LISTEN      16075/zabbix_agentd </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">5ã€åœ¨webé¡µé¢æ·»åŠ ç›‘æ§</span><br><span class="line"><span class="comment">#æ·»åŠ ç›‘æ§ä¹‹å‰æˆ‘ä»¬å¿…é¡»ä¿è¯è¢«ç›‘æ§çš„æœºå™¨(zabbix-agentæœºå™¨)10050ç«¯å£å¯ä»¥é€šä¿¡</span></span><br><span class="line">[root@web01 ~]# telnet 10.0.0.7 10050</span><br><span class="line">Trying 10.0.0.7...</span><br><span class="line">Connected to 10.0.0.7.</span><br><span class="line">Escape character is <span class="string">&#x27;^]&#x27;</span>.</span><br><span class="line">Connection closed by foreign host.</span><br></pre></td></tr></table></figure>
<p>å››ã€.zabbixæ·»åŠ ç›‘æ§web01</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621215247428.png" alt="image-20240621215247428"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621215619555.png" alt="image-20240621215619555"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621215826804.png" alt="image-20240621215826804"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240621220115994.png" alt="image-20240621220115994"></p>
<h2 id="6-Git-æ„å»ºåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"><a href="#6-Git-æ„å»ºåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ" class="headerlink" title="6. Git æ„å»ºåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"></a>6. Git æ„å»ºåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</h2><p>è®°å½•å¼€å‘æ–‡ä»¶çš„æ—¶é—´æœºå™¨  æ›´å¥½çš„å¼€å‘  æŒ½å›ä»£ç é”™è¯¯å¸¦æ¥çš„æŸå¤±</p>
<p>Gitlabç§æœ‰çš„git   webæœåŠ¡å™¨</p>
<p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<strong>æ­å»ºGitlab</strong>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">å®˜ç½‘ï¼š https://gitlab.cn/install/</span><br><span class="line">å®‰è£…è¦æ±‚ï¼š å†…å­˜4Gä»¥ä¸Š  </span><br><span class="line"></span><br><span class="line">1. å®‰è£…å’Œé…ç½®æ‰€éœ€çš„ä¾èµ–</span><br><span class="line">åœ¨ CentOS 7 ä¸Šï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šåœ¨ç³»ç»Ÿé˜²ç«å¢™ä¸­æ‰“å¼€ HTTPã€HTTPS å’Œ SSH è®¿é—®ã€‚è¿™æ˜¯ä¸€ä¸ªå¯é€‰æ­¥éª¤ï¼Œå¦‚æœä½ æ‰“ç®—ä»…ä»æœ¬åœ°ç½‘ç»œè®¿é—®æç‹GitLabï¼Œåˆ™å¯ä»¥è·³è¿‡å®ƒã€‚</span><br><span class="line"><span class="comment">#å®‰è£…ç­–ç•¥æ–‡ä»¶ å®‰è£…é‚®ç®±ç¨‹åº   å¦‚æœæ˜¯rootç”¨æˆ·å®‰è£… ä¸éœ€è¦åŠ sudo</span></span><br><span class="line">yum install -y curl policycoreutils-python openssh-server perl postfix</span><br><span class="line">systemctl start sshd;systemctl <span class="built_in">enable</span> sshd</span><br><span class="line">systemctl start postfix;systemctl <span class="built_in">enable</span> postfix</span><br><span class="line"><span class="comment">#curlæµè§ˆå™¨ç¨‹åº</span></span><br><span class="line"><span class="comment">#policycoreutils-python  åŠ å¯†ç¨‹åº</span></span><br><span class="line"><span class="comment">#openssh-server  è¿œç¨‹ç™»é™†æœåŠ¡</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3. ä¸‹è½½å¹¶å®‰è£…æç‹GitLab</span><br><span class="line">æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é…ç½®æç‹GitLab è½¯ä»¶æºé•œåƒã€‚</span><br><span class="line">curl -fsSL https://get.gitlab.cn | /bin/bash</span><br><span class="line">æ¥ä¸‹æ¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¼€å§‹å®‰è£…ï¼š</span><br><span class="line"><span class="built_in">sudo</span> EXTERNAL_URL=<span class="string">&quot;https://gitlab.example.com&quot;</span> yum install -y gitlab-jh</span><br><span class="line"></span><br><span class="line"><span class="comment">##æˆ‘æå‰å‡†å¤‡äº†å®‰è£…åŒ…æ‰€ä»¥ä¸Šä¼ è§£å‹çš„</span></span><br><span class="line">[root@jmpserver ~]# <span class="built_in">ls</span></span><br><span class="line">6.Git-software.zip    <span class="comment">#Gitå®‰è£…åŒ…</span></span><br><span class="line">github2.pdf           <span class="comment">#gitçš„å‘½ä»¤èµ„æ–™</span></span><br><span class="line">gitlab-ce-9.1.0-ce.0.el7.x86_64.rpm  <span class="comment">#Gitçš„rpmåŒ…</span></span><br><span class="line">[root@jmpserver ~]# yum -y install gitlab-ce-9.1.0-ce.0.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">4ã€è‡ªåŠ¨é…ç½®æ–‡ä»¶æƒé™,å®‰è£…æ•°æ®åº“â€¦.  æç¤º!å®‰è£…çš„æ—¶é—´ä¼š3åˆ†é’Ÿä»¥ä¸Š</span><br><span class="line">[root@jmpserver ~]#  gitlab-ctl reconfigure</span><br><span class="line"></span><br><span class="line">5ã€å…³é—­é˜²ç«å¢™</span><br><span class="line">[root@jmpserver jumpserver-installer-v3.10.10]# systemctl stop firewalld</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨æµè§ˆå™¨è®¿é—®è¿™ä¸ªæœºå™¨çš„ip å°±å¯ä»¥å‡ºç°gitlabçš„é¡µé¢</span><br><span class="line">10.0.0.74</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¯åŠ¨:<span class="built_in">sudo</span> gitlaba -ctl start</span><br><span class="line">åœæ­¢:<span class="built_in">sudo</span> gitlab-ctl stop</span><br><span class="line">é‡å¯:<span class="built_in">sudo</span> gitlab-ctl restart</span><br><span class="line"></span><br><span class="line">6. ç™»å½•æç‹GitLab å®ä¾‹</span><br><span class="line">ä½¿ç”¨ç¬¬äºŒæ­¥ EXTERNAL_URL ä¸­é…ç½®çš„åœ°å€æ¥è®¿é—®å®‰è£…æˆåŠŸçš„æç‹GitLab å®ä¾‹ã€‚ç”¨æˆ·åé»˜è®¤ä¸º root ã€‚å¦‚æœåœ¨å®‰è£…è¿‡ç¨‹ä¸­æŒ‡å®šäº†åˆå§‹å¯†ç ï¼Œåˆ™ç”¨åˆå§‹å¯†ç ç™»å½•ï¼Œå¦‚æœæœªæŒ‡å®šå¯†ç ï¼Œåˆ™ç³»ç»Ÿä¼šéšæœºç”Ÿæˆä¸€ä¸ªå¯†ç å¹¶å­˜å‚¨åœ¨ /etc/gitlab/initial_root_password æ–‡ä»¶ä¸­ï¼Œ æŸ¥çœ‹éšæœºå¯†ç å¹¶ä½¿ç”¨ root ç”¨æˆ·åç™»å½•ã€‚</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼šå‡ºäºå®‰å…¨åŸå› ï¼Œ24 å°æ—¶åï¼Œ/etc/gitlab/initial_root_password ä¼šè¢«ç¬¬ä¸€æ¬¡Â gitlab-ctl reconfigure è‡ªåŠ¨åˆ é™¤ï¼Œå› æ­¤è‹¥ä½¿ç”¨éšæœºå¯†ç ç™»å½•ï¼Œå»ºè®®å®‰è£…æˆåŠŸåˆå§‹ç™»å½•æˆåŠŸä¹‹åï¼Œç«‹å³ä¿®æ”¹åˆå§‹å¯†ç </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622125112777.png" alt="image-20240622125112777"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622125221466.png" alt="image-20240622125221466"></p>
<p><strong>è¿›å…¥é¦–é¡µ   åˆ›å»ºé¡¹ç›®</strong></p>
<p>1ã€åˆ›å»ºé¡¹ç›®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622125652384.png" alt="image-20240622125652384"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622130151003.png" alt="image-20240622130151003"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622130824625.png" alt="image-20240622130824625"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622132252202.png" alt="image-20240622132252202"></p>
<p>2ã€å»ºç«‹è¿œç¨‹è¿æ¥çš„å¯†é’¥ï¼Œæ‰èƒ½å¤Ÿè®¿é—®ä½¿ç”¨  æ¨é€SSHå¯†é’¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">--------------------------------------------------------------------------------------------------------</span><br><span class="line"><span class="comment">##ç”¨äºå‘½ä»¤è¡Œï¼Œæˆ–å®¢æˆ·ç«¯ç¨‹åºè¿›è¡Œä¸‹è½½ä½¿ç”¨ã€‚</span></span><br><span class="line">http://root@jmpserver/root/asm-project1.git   <span class="comment">#å¤åˆ¶çš„é¡¹ç›®åœ°å€ HHTP</span></span><br><span class="line"></span><br><span class="line">git@jmpserver:root/asm-project1.git   <span class="comment">#SSH</span></span><br><span class="line"></span><br><span class="line">1ã€ç”Ÿæˆå¯†é’¥  å¹¶ä¸”æŸ¥çœ‹å¯†é’¥</span><br><span class="line">[root@jmpserver ~]# ssh-keygen</span><br><span class="line"></span><br><span class="line">[root@jmpserver ~]# <span class="built_in">cat</span> ~/.ssh/id_rsa.pub </span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCpfy6pS4Pc2UiH+mer+CpSsVL5WslEmzydUlCc/2wNTXbFCE7xR7XchAA0h4f3g5NgT9YgqQRGzxiZ07+pLJ6V6PPFPWMe4iriLK4Yb52emOPUYtYdwBcJkXDHSre/ZDko6JICyFdwwuDtYBSvUniYXm5fFcDysKfAp027HDr40yisClGwS6wAICT1cblNw3DpTCG6g4Kh1JjnPdIVA6P2VgRt9hvplo8p4EqV9CoVrGNz/Mgcb411V6XYNdIAtQE/cVmyRbZ9T1LfHle8eYnoM+FwF9dJrZ2Z5qndZ0M7AmIROMxiHxROEQVb0aHbmQCPIcZR+cg34K77K3GmQjVP root@jmpserver</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622131946536.png" alt="image-20240622131946536"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622131719280.png" alt="image-20240622131719280"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622131852805.png" alt="image-20240622131852805"></p>
<p>3ã€ä½¿ç”¨gitlab</p>
<ul>
<li>å›¾å½¢æ“ä½œ  ä¸Šä¼ åˆ°gitlab</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622132833245.png" alt="image-20240622132833245"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622132940068.png" alt="image-20240622132940068"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622132955275.png" alt="image-20240622132955275"></p>
<ul>
<li>ä¸Šä¼ æœ¬åœ°çš„æ–‡ä»¶åˆ°gitlab</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622133236208.png" alt="image-20240622133236208"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622133409132.png" alt="image-20240622133409132"></p>
<ul>
<li><p>ä¸‹è½½é¡¹ç›®çš„æ–‡ä»¶</p>
</li>
<li><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622134628219.png" alt="image-20240622134628219"></p>
<ul>
<li></li>
<li>å‘½ä»¤è¡Œæ“ä½œ</li>
<li><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622135855048.png" alt="image-20240622135855048"></li>
</ul>
<p>ä¸‹è½½</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1ã€å¦‚æœä½ çš„æœºå™¨çš„æœ‰åŸŸåçš„ï¼Œéœ€è¦åœ¨/etc/hostsåšåŸŸåè§£æ</span><br><span class="line">10.0.0.74 www.gitlab.com  </span><br><span class="line"><span class="comment">###å¦‚æœæ²¡æœ‰å°±ä¸éœ€è¦åšè¿™æ­¥</span></span><br><span class="line"></span><br><span class="line">å®‰è£…git</span><br><span class="line">[root@m01 ~]# yum -y install git</span><br><span class="line"></span><br><span class="line">1ã€å…‹éš†æœåŠ¡å™¨çš„æ–‡ä»¶  æ³¨æ„ä½ ç²˜è´´çš„åœ°å€ä¸­ï¼Œä½¿ç”¨äº†ä»€ä¹ˆç”¨æˆ·åï¼ï¼ï¼</span><br><span class="line">[root@jmpserver ~]# git config --global user.name <span class="string">&quot;git&quot;</span>              <span class="comment">#å¯ä»¥ç”¨root ä¹Ÿå¯ä»¥ç”¨git  gitæ˜¯è‡ªåŠ¨åˆ›å»ºçš„ æ²¡æœ‰å¯†ç </span></span><br><span class="line">[root@jmpserver ~]# git config --global user.email <span class="string">&quot;git@jmpserver&quot;</span>   <span class="comment">#é‚®ç®±</span></span><br><span class="line">[root@jmpserver ~]# git <span class="built_in">clone</span> git@jmpserver:root/asm-project1.git</span><br><span class="line">git@jmpserver:root/asm-project1.git <span class="comment">#æˆ‘ä¹‹å‰ç²˜è´´çš„åœ°å€</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@jmpserver ~]# <span class="built_in">ls</span></span><br><span class="line">asm-project1  </span><br><span class="line"> <span class="comment">#ä¼šçœ‹åˆ°æˆ‘è¿œç¨‹ä¸‹è½½çš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622135410435.png" alt="image-20240622135410435"></p>
<p>å°†æœåŠ¡å™¨çš„æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç«¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> [root@jmpserver ~]# <span class="built_in">ls</span></span><br><span class="line">asm-project1  </span><br><span class="line"></span><br><span class="line">1ã€è¿›å…¥å·¥ä½œç›®å½•</span><br><span class="line">[root@jmpserver ~]# <span class="built_in">cd</span> asm-project1/</span><br><span class="line">[root@jmpserver asm-project1]# <span class="built_in">echo</span> php &gt; index.html</span><br><span class="line"></span><br><span class="line">2ã€åˆå§‹åŒ–</span><br><span class="line">[root@jmpserver asm-project1]# git init</span><br><span class="line">Reinitialized existing Git repository <span class="keyword">in</span> /root/asm-project1/.git/</span><br><span class="line"></span><br><span class="line">3ã€å‘Šè¯‰æœåŠ¡å™¨ä¸Šä¼ çš„åœ°å€</span><br><span class="line">[root@jmpserver asm-project1]# git remote add origin git@jmpserver:root/asm-project1.git</span><br><span class="line">fatal: remote origin already exists.</span><br><span class="line"></span><br><span class="line">4ã€æ·»åŠ ä¸Šä¼ çš„ç›®å½•  å½“å‰ç›®å½•   å»ºç«‹å½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œä¸ºå‡†å¤‡ä¸Šä¼ çš„æ–‡ä»¶</span><br><span class="line">[root@jmpserver asm-project1]# git add .</span><br><span class="line"></span><br><span class="line">5ã€æäº¤ä¸Šä¼ çš„å¤‡æ³¨è¯´æ˜</span><br><span class="line">[root@jmpserver asm-project1]# git commit -m <span class="string">&#x27;v01-tes&#x27;</span></span><br><span class="line">[master 8305e9e] v01-tes</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 index.html</span><br><span class="line"> </span><br><span class="line">6ã€ä¸Šä¼ </span><br><span class="line">[root@jmpserver asm-project1]# git push -u origin master</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622141641454.png" alt="image-20240622141641454" style="zoom:80%;" /></p>
<h2 id="7-æ­å»ºæŒç»­é›†æˆå¼•æ“Jenkins"><a href="#7-æ­å»ºæŒç»­é›†æˆå¼•æ“Jenkins" class="headerlink" title="7. æ­å»ºæŒç»­é›†æˆå¼•æ“Jenkins"></a>7. æ­å»ºæŒç»­é›†æˆå¼•æ“Jenkins</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CI</span>  (continuous integration-<span class="keyword">Cl</span>)  æŒç»­é›†æˆ    ä»£ç åˆå¹¶ï¼Œæ„å»ºï¼Œéƒ¨ç½²ï¼Œæµ‹è¯•éƒ½åœ¨ä¸€èµ·ï¼Œä¸æ–­çš„æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œå¹¶å¯¹ç»“æ„åé¦ˆã€‚</span><br><span class="line"><span class="keyword">CD</span>  (continuous Deloyments )    æŒç»­äº¤ä»˜     æŠŠä»£ç éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼Œé¢„ç”Ÿäº§ç¯å¢ƒã€‚</span><br><span class="line"><span class="keyword">CD</span>  (continous Delivery )       æŒç»­éƒ¨ç½²      å°†æœ€ç»ˆçš„äº§å“å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼Œç»™ç”¨æˆ·ä½¿ç”¨ã€‚</span><br></pre></td></tr></table></figure>
<p>å¼€å‘(git) â€”&gt;gitä¸»åº“â€”&gt;jenkins(git+jdk+tomcat+mavenæ‰“åŒ…+æµ‹è¯•ï¼‰â€”&gt;å‘å¸ƒåˆ°tomcatæœåŠ¡å™¨ </p>
<p> Jenkinsæ˜¯å¸®æˆ‘ä»¬å°†ä»£ç è¿›è¡Œç»Ÿä¸€çš„ç¼–è¯‘æ‰“åŒ…ã€è¿˜å¯ä»¥æ”¾åˆ°tomcatå®¹å™¨ä¸­è¿›è¡Œå‘å¸ƒã€‚<br>æ„æ€æ˜¯æˆ‘ä»¬é€šè¿‡é…ç½®ï¼Œå°†ä»¥å‰ï¼šç¼–è¯‘ã€æ‰“åŒ…ã€ä¸Šä¼ ã€éƒ¨ç½²åˆ°Tomcatä¸­çš„è¿‡ç¨‹äº¤ç”±Jenkinsï¼ŒJenkinsé€šè¿‡ç»™å®šçš„ä»£ç åœ°å€URLï¼Œå°†ä»£ç æ‹‰å–åˆ°å…¶â€œå®¿ä¸»æœåŠ¡å™¨â€ï¼ˆJenkinsçš„å®‰è£…ä½ç½®ï¼‰ï¼Œè¿›è¡Œç¼–è¯‘ã€æ‰“åŒ…å’Œå‘å¸ƒåˆ°webå®¹å™¨ä¸­ã€‚</p>
<p>ç¯å¢ƒå‡†å¤‡ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»æœºå</th>
<th>ip</th>
<th>è§’è‰²</th>
</tr>
</thead>
<tbody>
<tr>
<td>jumpsever</td>
<td>10.0.0.74 / 172.16.1.74</td>
<td>gitlab      å†…å­˜ç»™3Gä»¥ä¸Š ä¸ç„¶è¿è¡Œæ¯”è¾ƒç¼“æ…¢ (æˆ‘å·²ç»éƒ¨ç½²å¥½äº†)</td>
</tr>
<tr>
<td>jenkins</td>
<td>10.0.0.73 / 172.16.1.73</td>
<td>éƒ¨ç½²jenkins</td>
</tr>
<tr>
<td>web01</td>
<td>10.0.0.7 / 172.16.1.7</td>
<td>å……å½“ä¸šåŠ¡ç½‘ç«™æœåŠ¡å™¨</td>
</tr>
</tbody>
</table>
</div>
<p><strong>1ã€éƒ¨ç½²jenkinséœ€è¦çš„ç¯å¢ƒ</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">ä¸‹è½½ maven3.8.8 åŒ…</span><br><span class="line">wget https://mirrors.cnnic.cn/apache/maven/maven-3/3.8.8/binaries/apache-maven-3.8.8-bin.tar.gz</span><br><span class="line">tar -zxvf apache-maven-3.8.8-bin.tar.gz -C /usr/local/</span><br><span class="line"><span class="built_in">mv</span>        /usr/local/apache-maven-3.8.8/       /usr/local/maven</span><br><span class="line"></span><br><span class="line">----------------------1ã€éƒ¨ç½²jenkinséœ€è¦çš„ç¯å¢ƒï¼ˆmavenï¼‰-----</span><br><span class="line">1ã€è·å–åŒ… æˆ‘å·²ç»æå‰å‡†å¤‡å¥½äº†ç›´æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨</span><br><span class="line">[root@jenkins ~]# rz</span><br><span class="line">rz waiting to receive.**</span><br><span class="line">[root@jenkins ~]# ll</span><br><span class="line">-rw-rw-rw-  1 root root 518668731 Mar 12 20:55 7.jenkins2.42_??Æµ????.zip</span><br><span class="line">[root@jenkins ~]# unzip 7.jenkins2.42_ï¿½ï¿½Æµï¿½ï¿½ï¿½ï¿½.zip</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# tar xf apache-maven-3.8.8-bin.tar.gz  -C /usr/local/</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# ll /usr/local/</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x  6 root root 99 Jun 22 23:17 apache-maven-3.8.8</span><br><span class="line">åå­—æœ‰ç‚¹é•¿ï¼Œå¯ä»¥æ”¹ä¸€ä¸‹åå­—</span><br><span class="line">[root@jenkins ~]# <span class="built_in">mv</span> /usr/local/apache-maven-3.8.8 /usr/local/maven</span><br><span class="line"></span><br><span class="line">2ã€é…ç½®ç¯å¢ƒå˜é‡ å»ºç«‹ä¸€ä¸ªæ–°æ–‡ä»¶å­˜æ”¾mavenç”¨çš„ç¯å¢ƒå˜é‡</span><br><span class="line">[root@jenkins ~]# vim /etc/profile.d/jenkins_tools.sh</span><br><span class="line"><span class="built_in">export</span> M2_HOME=/usr/local/maven</span><br><span class="line"><span class="built_in">export</span> M2=<span class="variable">$M2_HOME</span>/bin</span><br><span class="line">PATH=<span class="variable">$M2</span>:<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/bin:/usr/local/git/bin</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> MAVEN_HOME=/usr/local/maven</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;MAVEN_HOME&#125;</span>/bin:<span class="variable">$PATH</span> </span><br><span class="line"></span><br><span class="line">è®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</span><br><span class="line">[root@jenkins ~]# <span class="built_in">source</span> /etc/profile.d/jenkins_tools.sh </span><br><span class="line"></span><br><span class="line"><span class="comment">###æµ‹è¯•çš„mavençš„ç‰ˆæœ¬ï¼Œè¿™é‡Œå…ˆä¸æµ‹è¯•ï¼Œå› ä¸ºmavenéœ€è¦ä¾èµ–javaç­‰åé¢å®‰è£…äº†javaå†æµ‹è¯•</span></span><br><span class="line">[root@jenkins ~]# mvn --version</span><br><span class="line"></span><br><span class="line">-</span><br><span class="line">------------------------2ã€éƒ¨ç½²jenkinséœ€è¦çš„ç¯å¢ƒï¼ˆgitï¼‰-----</span><br><span class="line">1ã€å®‰è£…ä¾èµ–åŒ…</span><br><span class="line">[root@jenkins ~]# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker  fontconfig  -y</span><br><span class="line"></span><br><span class="line">2ã€gitå®˜ç½‘ä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬GIT</span><br><span class="line">[root@jenkins ~]# wget https://mirrors.edge.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">##è¿™é‡Œçš„gitæˆ‘ä½¿ç”¨çš„æ˜¯æå‰ä¸‹è½½å¥½çš„</span></span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# tar xf git-2.9.5.tar.gz </span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# ll</span><br><span class="line">drwxrwxr-x 21 root root     12288 Aug 10  2017 git-2.9.5</span><br><span class="line"></span><br><span class="line">3ã€ä¿®æ”¹ç¯å¢ƒå˜é‡</span><br><span class="line">[root@jenkins ~]# vim /etc/bashrc </span><br><span class="line">åœ¨æœ€åä¸€è¡ŒåŠ å…¥ç¯å¢ƒå˜é‡</span><br><span class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/bin:/usr/local/git/bin</span><br><span class="line">[root@jenkins ~]# <span class="built_in">source</span> /etc/bashrc </span><br><span class="line"></span><br><span class="line">3ã€è¿›å…¥gitå®‰è£…åŒ…çš„ç›®å½• ç¼–è¯‘å®‰è£…</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# <span class="built_in">cd</span> git-2.9.5/</span><br><span class="line"></span><br><span class="line">ç¼–è¯‘æºç åŒ…  å‘Šè¯‰ä»–æŠŠä½¿ç”¨gitå·¥å…·çš„åŠŸèƒ½éƒ½å¯åŠ¨&amp;&amp;æŒ‡å®š/usr/local/gitä½œä¸ºå®‰è£…ä½ç½®</span><br><span class="line">[root@jenkins git-2.9.5]#  make prefix=/usr/local/git all &amp;&amp; make prefix=/usr/local/git install</span><br><span class="line"></span><br><span class="line">4ã€æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</span><br><span class="line">[root@jenkins git-2.9.5]# git --version</span><br><span class="line">git version 1.8.3.1</span><br><span class="line">å‘ç°ç‰ˆæœ¬æ˜¯1.83  å› ä¸ºcentos 7ä½¿ç”¨yumé¢„å…ˆå®‰è£…äº†git </span><br><span class="line"></span><br><span class="line">[root@jenkins git-2.9.5]# yum list| grep git.x86</span><br><span class="line">git.x86_64                               1.8.3.1-25.el7_9              @updates </span><br><span class="line"></span><br><span class="line">5ã€æŠŠä½¿ç”¨yumå®‰è£…çš„gitåˆ é™¤ï¼Œ</span><br><span class="line">[root@jenkins git-2.9.5]# yum remove -y git.x86_64</span><br><span class="line">ç§»é™¤çš„æ—¶å€™ç¯å¢ƒå˜é‡ä¼šè¢«å–æ¶ˆï¼Œéœ€è¦åœ¨è®©åˆšåˆšå†™çš„ç¯å¢ƒå˜é‡ç”Ÿæ•ˆä¸€ä¸‹</span><br><span class="line">[root@jenkins git-2.9.5]# <span class="built_in">source</span> /etc/bashrc </span><br><span class="line">[root@jenkins git-2.9.5]# git --version</span><br><span class="line">git version 2.9.5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------3ã€éƒ¨ç½²jenkinséœ€è¦çš„ç¯å¢ƒï¼ˆJava  tomactï¼‰-----</span><br><span class="line">1ã€å®‰è£…JDK  æˆ‘ä¹Ÿæ˜¯æå‰å‡†å¤‡å¥½çš„ ç›´æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨           jdkæ˜¯java</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# ll</span><br><span class="line">-rw-r--r--  1 root root 168905265 Aug  7  2023 jdk-11.0.16_linux-x64_bin.tar.gz</span><br><span class="line"></span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# tar xf jdk-11.0.16_linux-x64_bin.tar.gz </span><br><span class="line">è§£å‹å‡ºjdk-11.0.16</span><br><span class="line">drwxr-xr-x  9 root root       126 Jun 23 00:00 jdk-11.0.16</span><br><span class="line"></span><br><span class="line">2ã€ä¸Šä¼ tomcat 9 è§£å‹</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# tar xf apache-tomcat-9.0.79.tar.gz </span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# ll</span><br><span class="line">drwxr-xr-x  9 root root       220 Jun 23 00:01 apache-tomcat-9.0.79</span><br><span class="line"></span><br><span class="line">3ã€ç”±äºæˆ‘éƒ½æ˜¯åœ¨å®¶ç›®å½•é‡Œé¢è§£å‹çš„ å®¶ç›®å½•é‡Œé¢ä¸é€‚åˆæ”¾æºä»£ç ï¼Œéœ€è¦ç§»åŠ¨æºä»£ç </span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# <span class="built_in">mv</span> jdk-11.0.16 /usr/local/java &amp;&amp; <span class="built_in">mv</span> apache-tomcat-9.0.79 /usr/local/tomcat</span><br><span class="line"></span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# <span class="built_in">ls</span> /usr/local/</span><br><span class="line">bin  games  include  lib    libexec  sbin   src</span><br><span class="line">etc  git    java     liba64  maven    share  tomcat</span><br><span class="line"></span><br><span class="line">4ã€å¤„ç†ç¯å¢ƒå˜é‡</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# vim /etc/profile.d/java.sh</span><br><span class="line">TOMCAT_HOME=/usr/local/tomcat                 <span class="comment">#tomcatçš„å®¶ç›®å½•</span></span><br><span class="line">JAVA_HOME=/usr/local/java                     <span class="comment">#Javaçš„å®¶ç›®å½•</span></span><br><span class="line">PATH=<span class="variable">$TOMCAT_HOME</span>/bin:<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span>    <span class="comment">#å¯æ‰§è¡Œçš„è·¯å¾„</span></span><br><span class="line"><span class="built_in">export</span>    TOMCAT_HOME   JAVA_HOME   PATH</span><br><span class="line"></span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# <span class="built_in">source</span> /etc/profile.d/java.sh </span><br><span class="line"></span><br><span class="line">5ã€æµ‹è¯•java mavençš„ç‰ˆæœ¬</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# java --version</span><br><span class="line">java 11.0.16 2022-07-19 LTS</span><br><span class="line">Java(TM) SE Runtime Environment 18.9 (build 11.0.16+11-LTS-199)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.16+11-LTS-199, mixed mode)</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# mvn --version</span><br><span class="line">Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)</span><br><span class="line">Maven home: /usr/local/maven</span><br><span class="line">Java version: 11.0.16, vendor: Oracle Corporation, runtime: /usr/local/java</span><br><span class="line">Default locale: en_US, platform encoding: UTF-8</span><br><span class="line">OS name: <span class="string">&quot;linux&quot;</span>, version: <span class="string">&quot;3.10.0-957.el7.x86_64&quot;</span>, <span class="built_in">arch</span>: <span class="string">&quot;amd64&quot;</span>, family: <span class="string">&quot;unix&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>2ã€å®‰è£…jenkins</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">å®˜ç½‘ä¸‹è½½jenkins:   http://updates.jenkins-ci.org/download/war/</span><br><span class="line"><span class="string">&quot;ä¸‹è½½2.422&quot;</span>  æˆ‘è¿™é‡Œç”¨çš„æ˜¯2.422</span><br><span class="line"></span><br><span class="line">1ã€ä¸Šä¼ jenkins</span><br><span class="line"></span><br><span class="line">2ã€æ¸…ç†tomcaté»˜è®¤ä½ç½®ç¯å¢ƒ æŠŠjenkinsæ”¾åˆ°ç½‘ç«™ä¸»ç›®å½•</span><br><span class="line">[root@jenkins ~]# <span class="built_in">rm</span> -rf /usr/local/tomcat/webapps/*</span><br><span class="line"></span><br><span class="line">[root@jenkins ~]# <span class="built_in">cp</span> jenkins.war /usr/local/tomcat/webapps/</span><br><span class="line"></span><br><span class="line">3ã€å¯åŠ¨tomcat,å¹¶é¡µé¢è®¿é—®</span><br><span class="line">[root@jenkins ~]# /usr/local/tomcat/bin/startup.sh</span><br><span class="line"></span><br><span class="line">[root@jenkins ~]# netstat -lntup| grep 8080</span><br><span class="line">tcp6       0      0 :::8080                 :::*                    LISTEN      13990/java  </span><br><span class="line"></span><br><span class="line">4ã€è®¿é—®é¡µé¢</span><br><span class="line">æˆ‘ç”¨çš„æœåŠ¡å™¨ipæ˜¯   10.0.0.73</span><br><span class="line">åœ¨æµè§ˆå™¨è¾“å…¥ 10.0.0.73:8080/jenkins </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¦‚æœæœ‰å…¶ä»–é”™è¯¯,è¯·æŸ¥è¯¢tomcatçš„é”™è¯¯æ—¥å¿—.</span><br></pre></td></tr></table></figure>
<p><strong>3ã€å‰å°é…ç½®jenkins</strong></p>
<ul>
<li>ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œé¦–å…ˆéœ€è¦è§£é”Jenkins</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622170511138.png" alt="image-20240622170511138"></p>
<ul>
<li>.é€‰æ‹©suggestedçš„æ’ä»¶è¿›è¡Œä¸‹è½½</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622175903771.png" alt="image-20240622175903771"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ç‚¹å‡»è¿›å»å·¦è¾¹çš„é¡µé¢è¿›è¡Œæ’ä»¶å®‰è£…ï¼Œæ¯”è¾ƒç¼“æ…¢ï¼Œå› ä¸ºä»å›½å¤–çš„æºè¿›è¡Œä¸‹è½½ï¼Œä¸‹è½½æ—¶é—´æ¯”è¾ƒé•¿ï¼Œå¯ä»¥åšä¼˜åŒ–</span><br><span class="line">1ã€</span><br><span class="line">[root@jenkins webapps]# vim ~/.jenkins/hudson.model.UpdateCenter.xml </span><br><span class="line">æŠŠä¸‹è½½åœ°å€æ¢æˆï¼š</span><br><span class="line">http://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json</span><br><span class="line"></span><br><span class="line">2ã€</span><br><span class="line">[root@jenkins webapps]# vim ~/.jenkins/updates/default.json </span><br><span class="line">æ›¿æ¢å‘½ä»¤vimç¼–è¾‘å™¨æ›¿æ¢ã€‚éœ€è¦åœ¨æœ«è¡Œæ¨¡å¼è¾“å…¥å†’å·ï¼š</span><br><span class="line">% s/www.google.com/www.baidu.com/g</span><br><span class="line">% s/updates.jenkins.io\/download/mirrors.tuna.tsinghua.edu.cn\/jenkins/g</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ—§ç‰ˆï¼š http://updates.jenkins-ci.org/download æ›¿æ¢æˆ https://mirrors.tuna.tsinghua.edu.cn/jenkins </span><br><span class="line">æ–°ç‰ˆï¼šhttps://updates.jenkins.io/download æ›¿æ¢æˆ https://mirrors.tuna.tsinghua.edu.cn/jenkins </span><br><span class="line"></span><br><span class="line">ä¿®æ”¹å®Œä»¥åï¼Œé‡å¯JenkinsæœåŠ¡å†è¾“å…¥å¯†ç ï¼Œç»§ç»­å®‰è£…ï¼Œé€Ÿåº¦è´¼å¿«ã€‚</span><br><span class="line">é‡å¯æ–¹æ³•ï¼šåœ¨æµè§ˆå™¨é‡Œé¢ip:ç«¯å£/jenkins/restart</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622180929971.png" alt="image-20240622180929971"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins webapps]# <span class="built_in">cat</span> /root/.jenkins/secrets/initialAdminPassword</span><br><span class="line">5fc9adf62f2c45d5bcf330cbb261f948</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622181049925.png" alt="image-20240622181049925"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622181113618.png" alt="image-20240622181113618"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å› ä¸ºç½‘é€ŸåŸå› ï¼Œæ’ä»¶å¯èƒ½ä¸‹è½½å¤±è´¥ï¼Œæ²¡å…³ç³»ï¼ŒæŠŠä»–ä»¬è®°å½•ä¸‹æ¥ï¼Œæ¯”å¦‚ä¸‹å›¾çš„ä¸¤ä¸ªæ’ä»¶ï¼Œç‚¹å‡»ç»§ç»­ï¼Œè¿›å»ä¹‹åæ‰‹åŠ¨é‡æ–°å®‰è£…æœªå®‰è£…å¥½çš„æ’ä»¶</span><br><span class="line">ä¹Ÿå¯ä»¥é‡è¯•ï¼Œç»§ç»­ä¸‹è½½å®‰è£…ã€‚</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622181858251.png" alt="image-20240622181858251"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœä¸‹è½½æ¯”è¾ƒæ…¢ï¼Œæœ‰çš„æ’ä»¶ä¸‹è½½å¤±è´¥ï¼Œæˆ‘ä¸æƒ³ç»§ç»­ç­‰é‚£ä¹ˆä¹…ä¸€ç›´ä¸‹è½½ï¼Œæˆ‘æœ‰ä¸€ä¸ªjenkinsçš„æ’ä»¶åŒ…ï¼Œæˆ‘ç›´æ¥ä¸Šä¼ ä½¿ç”¨jenkins_plugins.tar</span><br><span class="line">éœ€è¦å…ˆå®‰è£…bzip2æ‰å¯ä»¥ä½¿ç”¨tarå‘½ä»¤è§£å‹</span><br><span class="line">1ã€å®‰è£…bzip2</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# yum -y install bzip2</span><br><span class="line"></span><br><span class="line">2ã€è§£å‹</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# tar xf jenkins_plugins.tar </span><br><span class="line"></span><br><span class="line">3ã€è§£å‹ä¹‹åä¼šçœ‹åˆ°ä¸€ä¸ªæ–°çš„rootç›®å½• è¿›å…¥pluginsç›®å½•</span><br><span class="line">[root@jenkins jenkins2.42-è§†é¢‘å·¥å…·]# <span class="built_in">cd</span> root/</span><br><span class="line">[root@jenkins root]# <span class="built_in">ls</span> -a</span><br><span class="line">.  ..  .jenkins</span><br><span class="line">[root@jenkins root]# <span class="built_in">cd</span> .jenkins/</span><br><span class="line">[root@jenkins .jenkins]# <span class="built_in">ls</span></span><br><span class="line">plugins</span><br><span class="line">[root@jenkins .jenkins]# <span class="built_in">cd</span> plugins/</span><br><span class="line"></span><br><span class="line">4ã€è¿›å…¥pluginsç›®å½•ä¹‹åï¼ŒæŠŠé‡Œé¢çš„æ‰€æœ‰å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°/root/.jenkins/ plugins</span><br><span class="line">[root@jenkins plugins]# \<span class="built_in">cp</span>  * /root/.jenkins/plugins/</span><br><span class="line"></span><br><span class="line">\<span class="built_in">cp</span>  å¼ºåˆ¶è¦†ç›–</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622183932494.png" alt="image-20240622183932494"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622184633650.png" alt="image-20240622184633650"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622184746431.png" alt="image-20240622184746431"></p>
<ul>
<li>ç‚¹å‡»æ¢å¤ä¹‹åä¼šè°ƒè½¬åˆ°åˆ›å»ºç”¨æˆ·çš„é¡µé¢</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622185047160.png" alt="image-20240622185047160"></p>
<ul>
<li>jenkinsçš„åœ°å€åˆ†äº«</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622185136016.png" alt="image-20240622185136016"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622185153370.png" alt="image-20240622185153370"></p>
<p>å¦‚æœè¿™ä¸ªé¡µé¢è¿‡ä¸€ä¼šæ¶ˆå¤±äº†ã€‚å¹¶ä¸”ç»å¸¸ç©ºç™½ã€‚å¯èƒ½éœ€è¦ä½ ç™»å½•äº†ã€‚æ¢ä¸ªæµè§ˆå™¨ï¼Œæ‰“å¼€ç›¸åŒçš„åœ°å€å°±ä¼šå‡ºç°è®¤è¯é¡µé¢ã€‚</p>
<ul>
<li><p>æ¬¢è¿é¡µé¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622185503414.png" alt="image-20240622185503414"></p>
</li>
</ul>
<p><strong>4ã€ç³»ç»Ÿé…ç½®   ä¸ºäº†å‘Šè¯‰jenkinsæˆ‘ä»¬æ‰€éœ€è¦è°ƒç”¨çš„å„é¡¹ç»„ä»¶çš„ä½ç½®</strong></p>
<ul>
<li><p>å…¨å±€å˜é‡è®¾ç½®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622190223708.png" alt="image-20240622190223708"></p>
</li>
</ul>
<p>ä¸€ç›´å¾€ä¸‹æ»‘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622190320985.png" alt="image-20240622190320985"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622190538124.png" alt="image-20240622190538124"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622190834276.png" alt="image-20240622190834276"></p>
<ul>
<li>å…¨å±€å·¥å…·é…ç½®</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622191009901.png" alt="image-20240622191009901"></p>
<p>1ã€mavené…ç½®</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622191356035.png" alt="image-20240622191356035"></p>
<p>2ã€æ·»åŠ JDKå·¥å…·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622191650753.png" alt="image-20240622191650753"></p>
<p>3ã€æ·»åŠ Gitå·¥å…·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622191901295.png" alt="image-20240622191901295"></p>
<p>4ã€æ·»åŠ mavenå·¥å…·</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622192119718.png" alt="image-20240622192119718"></p>
<p>5ã€SSHè®¾ç½®  å‘Šè¯‰jenkins,ä¸šåŠ¡ä¸»æœºçš„ä¿¡æ¯</p>
<p>æˆ‘çš„jenkinsä¸»æœºæ˜¯10.0.0.73           ä¸šåŠ¡ä¸»æœºweb01æ˜¯10.0.0.7</p>
<p>æˆ‘è¦åœ¨jenkinsä¸Šé…web01çš„å¯†é’¥</p>
<p>ä¸€ã€jenkinsæœåŠ¡å™¨å‡†å¤‡å¯†é’¥è®¤è¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jenkins plugins]# ssh-keygen</span><br><span class="line"></span><br><span class="line">æŠŠå¯†é’¥å‘ç»™web01</span><br><span class="line">[root@jenkins plugins]# ssh-copy-id 172.16.1.7</span><br></pre></td></tr></table></figure>
<p>äºŒã€åœ¨jenkinsä¸Šé…ç½®sshä¿¡æ¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1ã€æŸ¥çœ‹å¯†é’¥</span><br><span class="line">[root@jenkins plugins]# vim ~/.ssh/id_rsa</span><br><span class="line">-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">MIIEowIBAAKCAQEAycvppyjh9MVJkct7AQQDy+rILhTgeYnNuDFoRCP8QWvrdMb1</span><br><span class="line">FUmRD4DuguVkIvMvf+X+PrE+4P1MN1uAvQDSSTwI0TyeCqlYcMr9oezbGJiY8KdS</span><br><span class="line">1UAkBLU2hTRCa3twufotH1Myi/QD4+wQnzrqss9M0R6K/WK3/Rr62A0Gf36Pd5+s</span><br><span class="line">s7lXm+JOolRx0NSQaAJLrbquX5VmjmKuqAAsGRXL9JSP4nolJrns4oLRevW9TM0j</span><br><span class="line">MXMSnsHTjSBj5ZzjzTtLxO2XMtsJOutZ5AP760gYwL/IDow5mslCGrFXm7ginPaP</span><br><span class="line">X9BxtKl71v0g6yRKhTU5ODHEKpn2QACgfVqSiQIDAQABAoIBAAx7lqqGduPDSHfC</span><br><span class="line">VIuNigaVMWjYVcJu6dDZDZAZgcMyP9BrdkGo2VZSLW7fbcBTtr58pauPH0qfoJVU</span><br><span class="line">DbSjVl69XfZDf6s9KoFfrSzVEACHf/5y+0bBvvijlQnMX8dyTVjTxvLHHLtXjt4M</span><br><span class="line">fkK7TEVfWWseLo7aCnOXtaijtaExQLXXrDszWQ7AYO3V2FlFSmr/jalvQpsaTPV1</span><br><span class="line">4qmgudsgW6suHmj1UEOOTmCdkMrvEXxtN2fCDkigA+sFnsS+yyYO8pWqq+DJ6Qm6</span><br><span class="line">WeGuTEbTpxQN3WQCb1BdBxAR/8mb5o2g6Vu2OJW93lXHOxtc21yD795EmQnGd2by</span><br><span class="line">GzY6Z1kCgYEA/ooDOOZHo+EJaQB1s2sioHTqIdWknoKk+ypPWfoQoB1Qp6fa/EAy</span><br><span class="line">9caqICnKBBZ3KDXcIlOSs3Ax/1PVHz0XS5XfYcVA73Z54Q2T57IBZoOxzhiOT4s5</span><br><span class="line">b1jfPRmaJRaw4IB7db98o3DdVUO8Np/0pL4OFx24NgiRQVeId71W5zMCgYEAyvRo</span><br><span class="line">KVwOy/jkyfXOsVGCuP41zRTGnq4GxRNR1stGWBXmTqNAG1VBbLMgujlrjBEFsQhf</span><br><span class="line">harjJc0LDwMELWWc90M5hW3ZxXMD9lA80o5yW32RHpk7Gq8IUZhnl9DnuCodmisq</span><br><span class="line">NX+EaRrZaCUGgtISTSiSFLQFJ68jBynLgQJX71MCgYEAtX+dupXhYYaWWiv8wXnU</span><br><span class="line">UAvt40BeyLQphfruaB86eaFNoK69JH92lvAY4SRLK00FnEODe2qSQabvz7tsTYEX</span><br><span class="line">Oktc5G9t1RJq58HxxBWWkA253FaAK1IAG1iInh3CX03lw795yUVIT5asDB9ndp/q</span><br><span class="line">JwpqK6uCbez//lK3OYJmFCcCgYBa6aKjLE6ghgyOf2KoQXgKQC1/gVf7ir8TlrTp</span><br><span class="line">P8Nx/9Vb0nsMA2O8On1ljgUkCBgBllubt9Hqg+/5OIOthkAK7v0cTPnpHb1fn8+v</span><br><span class="line">Dgoh+5x/FWrJaDCUxG1bL0QtVghOoBlXP5jjsBhFM5i4DzwNfif5yC4q+aP6OHml</span><br><span class="line">f5Q+awKBgEjRomtdbcHgqrT8vj8ncIbTjw5UG3AzHkPuhElsg/2EdEpTlp5DRvvJ</span><br><span class="line">65ldrVeexM18O2wwSWs9gUqMVjc8OFM63xSU8/0NXS+a8c+nv27P/oLr4d0hEf5W</span><br><span class="line">r9xbsqiySxP6yKNuOxmm6cMzBd1g0nurK0vEbV1z+2DF1tJxTLN2</span><br><span class="line">-----END RSA PRIVATE KEY-----</span><br><span class="line"></span><br><span class="line">2ã€è¿›å…¥jenkinsç³»ç»Ÿè®¾ç½®</span><br><span class="line"></span><br><span class="line">3ã€ç²˜è´´åˆ°Jenkins</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622193759720.png" alt="image-20240622193759720"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622194343141.png" alt="image-20240622194343141"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622194524805.png" alt="image-20240622194524805"></p>
<p><strong>5ã€æ’ä»¶ç®¡ç†</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622195643235.png" alt="image-20240622195643235"></p>
<p>ï¼ˆ1ï¼‰Maven Integration plugin å®‰è£…æ­¤æ’ä»¶æ‰èƒ½æ„å»ºmavené¡¹ç›®</p>
<p>ï¼ˆ2ï¼‰Deploy to container Plugin å®‰è£…æ­¤æ’ä»¶ï¼Œæ‰èƒ½å°†æ‰“å¥½çš„åŒ…éƒ¨ç½²åˆ°tomcatä¸Š</p>
<p>(3) å®‰è£…gitç›¸å…³2ä¸ªæ’ä»¶   GitHub Authentication ã€GitHub Branch Source</p>
<p>(4)å®‰è£…æ’ä»¶ï¼šPublish Over SSH</p>
<p>ä¸Šè¿°æ’ä»¶æˆ‘åœ¨å·²å®‰è£…çš„åœ°æ–¹æœç´¢ä¸€ä¸‹éƒ½å·²ç»å®‰è£…è¿‡äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622200517723.png" alt="image-20240622200517723"></p>
<p>mavenä¼˜åŒ–</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">jenkinså¼€å§‹æ„å»ºä»»åŠ¡çš„æ—¶å€™ï¼Œä»–ä¼šæ›´æ–°mavençš„ç»„ä»¶ï¼Œæ›´æ–°è¿‡ç¨‹ä¸­ä¸Šä¼ ä¸‹è½½æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥é…ç½®å›½å†…mavené•œåƒ</span><br><span class="line"></span><br><span class="line">å°±æ˜¯æŠŠå›½å¤–çš„è¿›è¡Œè·¯å¾„æ¢æˆå›½å†…çš„é•œåƒ</span><br><span class="line">[root@jenkins plugins]# vim /usr/local/maven/conf/settings.xml </span><br><span class="line">æœ«è¡Œæ¨¡å¼è¾“å…¥/0.0.0.0è¿›è¡Œæœç´¢</span><br><span class="line"></span><br><span class="line">æ·»åŠ å¦‚ä¸‹å†…å®¹</span><br><span class="line">    &lt;mirror&gt;</span><br><span class="line">      &lt;<span class="built_in">id</span>&gt;central&lt;/id&gt;</span><br><span class="line">      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span><br><span class="line">      &lt;name&gt;aliyun maven&lt;/name&gt;</span><br><span class="line">      &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt;</span><br><span class="line">    &lt;/mirror&gt; </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622201843765.png" alt="image-20240622201843765"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622202100262.png" alt="image-20240622202100262"></p>
<p><strong>6ã€jenkins+maven+gitlab+tomcat  è‡ªåŠ¨åŒ–æ„å»ºæ‰“åŒ…ã€éƒ¨ç½²</strong></p>
<p>jenkinsè°ƒç”¨gitä¸‹è½½æºä»£ç ï¼Œåˆ©ç”¨maveenæ‰“åŒ…æºä»£ç ï¼Œ sshæ¨é€æºä»£ç ï¼Œç»“åˆç”Ÿäº§æœåŠ¡å™¨tomcatä¸Šçº¿æºä»£ç </p>
<p>1ã€åˆ›å»ºä¸€ä¸ªMavenå·¥ç¨‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622205526573.png" alt="image-20240622205526573"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622205644617.png" alt="image-20240622205644617"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622210034140.png" alt="image-20240622210034140"></p>
<p>2ã€æºç ç®¡ç†ï¼Œé€‰æ‹©ç‰ˆæœ¬æ§åˆ¶å™¨å’Œä»“åº“åœ°å€</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/newrain001/easy-springmvc-maven.git">https://gitee.com/newrain001/easy-springmvc-maven.git</a>   äº’è”ç½‘ä»“åº“</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622210527474.png" alt="image-20240622210527474"></p>
<p>å¦‚æœæ˜¯ä½¿ç”¨çš„gitlab,éœ€è¦åšjenkinså’Œgitlabçš„èº«ä»½è®¤è¯ï¼Œå°±æ˜¯æŠŠå¯†é’¥äº’ç›¸æ‹·è´ä¸€ä¸‹</p>
<p>3ã€è®¾ç½®è§¦å‘å™¨ å°±æ˜¯å•¥æ—¶å€™å¼€å§‹æ‰“åŒ…å¼€å§‹æ¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622210923201.png" alt="image-20240622210923201"></p>
<p>4ã€è®¾ç½®æ„å»ºï¼Œè®¾ç½®æ‰“åŒ…çš„ç¨‹åºï¼ˆç¼–è¯‘æ‰“åŒ…ï¼‰</p>
<p>æ‰‹åŠ¨æ·»åŠ Goals and options       clean package -Dmaven.test.skip=true  æ„æ€æ˜¯è£…å®Œä¹‹åæŠŠè¿™ä¸ªåŒ…æ¸…ä¸€ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622211203160.png" alt="image-20240622211203160"></p>
<p>5ã€æ„å»ºåæ“ä½œï¼ˆæ‰“å®ŒåŒ…ä¹‹ååšçš„äº‹ï¼Œå¼€å§‹å¾€å¤–æ¨é€ï¼‰</p>
<p>åœ¨æ„å»ºåè®¾ç½®ä¸­ é€‰æ‹©ï¼š(send build artifacts over ssh)é€šè¿‡SSHå‘é€æ„å»ºå·¥ä»¶ </p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622211434330.png" alt="image-20240622211434330"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622211506754.png" alt="image-20240622211506754"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">æ¨é€ä»€ä¹ˆï¼Œä¼ è¾“ä»€ä¹ˆï¼Œæºæ–‡ä»¶target/*.war  æ˜¯JenkinsæœåŠ¡å™¨rootç›®å½•é‡Œé¢æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°±æ˜¯mavenæ‰“åŒ…å¹²æ´»çš„åœ°æ–¹</span><br><span class="line"></span><br><span class="line">å½“ä½ æŠŠåŒ…æ¨è¿‡å»ä¹‹åä½ è¿˜æœ‰ä»€ä¹ˆäº‹è¦åš</span><br><span class="line">tomcatï¼ˆweb01 10.0.0.7ï¼‰åœ¨æ¥æ”¶åˆ°æºç ä¹‹åçš„è‡ªå®šä¹‰åŠ¨ä½œã€‚</span><br><span class="line">æ¯”å¦‚ï¼šå°†æºç æ‹·è´åˆ°ç½‘ç«™çš„ä¸»ç›®å½•ï¼ˆ/jenkinsï¼‰,å¹¶æ‰§è¡Œä¸€äº›å…¶ä»–æ“ä½œå¦‚é‡å¯æœåŠ¡å™¨ç­‰ï¼ˆæˆ–åˆ›å»ºæ–‡ä»¶<span class="built_in">touch</span>ï¼‰ï¼ˆéœ€è¦åå°åˆ›å»ºï¼‰</span><br><span class="line">ä½†æ˜¯æˆ‘æ²¡æœ‰å®‰è£…ç½‘ç«™ï¼Œæˆ‘å°±ç›´æ¥æ¨è¿‡å»æµ‹è¯•åˆ›å»ºæ–‡ä»¶</span><br><span class="line">[root@web01 ~]# <span class="built_in">mkdir</span> -p /jenkins/&#123;sh,war&#125;</span><br><span class="line">[root@web01 ~]# vim /jenkins/sh/deploy.sh</span><br><span class="line"><span class="built_in">touch</span> /tmp/&#123;1..10&#125;.txt</span><br><span class="line"><span class="comment">#è¿™é‡Œä¸€èˆ¬éƒ½æ˜¯å†™é‡å¯ç½‘ç«™çš„å‘½ä»¤ï¼šsystemctl restart nginx</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@web01 ~]#  <span class="built_in">chmod</span> +x /jenkins/sh/deploy.sh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">clean package -Dmaven.test.skip=<span class="literal">true</span></span><br><span class="line">target/*.war</span><br><span class="line">target</span><br><span class="line">/jenkins/war</span><br><span class="line">/jenkins/sh/deploy.sh</span><br><span class="line"></span><br><span class="line"> https://gitee.com/fanjialong/cicd-demo48.git</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622215052624.png" alt="image-20240622215052624"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622213858886.png" alt="image-20240622213858886"></p>
<p>6ã€æ‰§è¡Œæ„å»º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622231614568.png" alt="image-20240622231614568"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622231539741.png" alt="image-20240622231539741"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240622231640163.png" alt="image-20240622231640163"></p>
<p>æ˜¾ç¤ºæˆåŠŸï¼Œå»web01æœºå™¨éªŒè¯tmpæ˜¯å¦å­˜åœ¨åˆ›å»ºçš„æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@web01 ~]# <span class="built_in">ls</span> /tmp/</span><br><span class="line">10.txt  4.txt  8.txt                        vmware-root_6028-726237631</span><br><span class="line">1.txt   5.txt  9.txt                        vmware-root_6043-1723079798</span><br><span class="line">2.txt   6.txt  hsperfdata_root              vmware-root_6073-1715281356</span><br><span class="line">3.txt   7.txt  vmware-root_5981-1723210961  vmware-root_6096-1002483780</span><br><span class="line"></span><br><span class="line">[root@web01 ~]# <span class="built_in">ls</span> /jenkins/war/</span><br><span class="line">easy-springmvc-maven.war</span><br></pre></td></tr></table></figure>
<h2 id="9-jumpserveréƒ¨ç½²"><a href="#9-jumpserveréƒ¨ç½²" class="headerlink" title="9 . jumpserveréƒ¨ç½²"></a>9 . jumpserveréƒ¨ç½²</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">1ã€ä»é£è‡´äº‘ç¤¾åŒº ä¸‹è½½æœ€æ–°çš„ linux/amd64 ç¦»çº¿åŒ…, å¹¶ä¸Šä¼ åˆ°éƒ¨ç½²æœåŠ¡å™¨çš„ /opt ç›®å½•</span><br><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line">curl -sSL https://resource.fit2cloud.com/jumpserver/jumpserver/releases/latest/download/quick_start.sh | bash</span><br><span class="line"></span><br><span class="line">2ã€å®‰è£…å®Œæˆå JumpServer é…ç½®æ–‡ä»¶è·¯å¾„ä¸ºï¼š /opt/jumpserver/config/config.txt</span><br><span class="line"></span><br><span class="line">3ã€</span><br><span class="line"><span class="built_in">cd</span> /opt/jumpserver-installer-v3.10.10</span><br><span class="line"><span class="comment"># å¯åŠ¨</span></span><br><span class="line">./jmsctl.sh start</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢</span></span><br><span class="line">./jmsctl.sh down</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½</span></span><br><span class="line">./jmsctl.sh uninstall</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸®åŠ©</span></span><br><span class="line">./jmsctl.sh -h</span><br><span class="line"></span><br><span class="line">4ã€å®‰è£…æˆåŠŸåï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®ç™»å½• JumpServer</span><br><span class="line">åœ°å€: http://&lt;JumpServeræœåŠ¡å™¨IPåœ°å€&gt;:&lt;æœåŠ¡è¿è¡Œç«¯å£&gt;</span><br><span class="line">ç”¨æˆ·å: admin</span><br><span class="line">å¯†ç : admin    ç™»é™†ä¹‹åéœ€è¦æ”¹å¯†ç </span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240623130556168.png" alt="image-20240623130556168"></p>
<h2 id="10-éƒ¨ç½²ELK"><a href="#10-éƒ¨ç½²ELK" class="headerlink" title="10. éƒ¨ç½²ELK"></a>10. éƒ¨ç½²ELK</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ELK :ELKstackæ˜¯çš„elkçš„é›†ç¾¤åå­—</span><br><span class="line">E: Elasticserch ï¼ˆè¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“ï¼Œæœç´¢å¼•æ“æ•°æ®åº“ï¼‰ä¹Ÿç®€ç§°es</span><br><span class="line">L:</span><br><span class="line">K:</span><br><span class="line">F:</span><br></pre></td></tr></table></figure>
<p>ELKæ˜¯æŒ‡Elasticsearch + Logstash + Kibabaä¸‰ä¸ªç»„ä»¶çš„ç»„åˆã€‚<br>ã€€ã€€åœ¨è¿™ä¸ªç³»ç»Ÿä¸­ï¼ŒElasticsearchä¸»è¦å……å½“ä¸€ä¸ªå…¨æ–‡æ£€ç´¢å’Œåˆ†æå¼•æ“ï¼Œä¸»è¦ç”¨äºå­˜å‚¨æ—¥å¿—ï¼ŒLogstashæ˜¯ä¸€æ¬¾åˆ†å¸ƒå¼æ—¥å¿—æ”¶é›†ç³»ç»Ÿï¼Œç”¨äºæ•°æ®è§£æï¼ŒKibanaå¯ä»¥ä¸ºè¿™ä¸ªå¹³å°æä¾›å¯è§†åŒ–çš„Webç•Œé¢ã€‚å±•ç¤ºæ•°æ®ã€‚æ˜¯ä¸€å¥—é›†ä¸­çš„å¯è§†åŒ–å¯äº¤äº’ä¾¿æ·çš„ç®¡ç†æ—¥å¿—ï¼Œåˆ†ææ—¥å¿—çš„å·¥å…·</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ç‰ˆæœ¬è¯´æ˜ï¼š</span><br><span class="line">Elasticsearchã€Logstashã€Kibanaã€Filebeatå®‰è£…çš„ç‰ˆæœ¬å·å¿…é¡»å…¨éƒ¨ä¸€è‡´,ä¸ç„¶ä¼šå‡ºç°kibanaæ— æ³•æ˜¾ç¤ºwebé¡µé¢ã€‚</span><br><span class="line"></span><br><span class="line">ELKå·¥ä½œæ¼”ç¤ºå›¾ï¼š</span><br><span class="line"></span><br><span class="line">Filebeatåœ¨APP Serverç«¯æ”¶é›†æ—¥å¿—</span><br><span class="line">Logstashå¤„ç†è¿‡æ»¤Filebeatæ”¶é›†è¿‡æ¥çš„æ—¥å¿—ï¼Œå“ªå°æœºå™¨çš„æ—¥å¿—éœ€è¦æ”¶é›†ï¼Œå°±å®‰è£…åœ¨å“ªå°æœºå™¨ä¸Š</span><br><span class="line">Elasticsearchå­˜å‚¨Logstashæä¾›çš„å¤„ç†ä¹‹åçš„æ—¥å¿—ï¼Œç”¨ä»¥æ£€ç´¢ã€ç»Ÿè®¡</span><br><span class="line">Kibanaæä¾›webé¡µé¢ï¼Œå°†Elasticsearchçš„æ•°æ®å¯è§†åŒ–çš„å±•ç¤ºå‡ºæ¥</span><br></pre></td></tr></table></figure>
<p>å®‰è£…JDK-11.0.16    å®‰è£…elasticsearch7.13.2       å®‰è£…logstash-7.13.2             å®‰è£…kibana-7.13.2</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸»æœºå</th>
<th>ip</th>
<th>èŠ‚ç‚¹ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>elk1</td>
<td>10.0.0.76 /  172.16.1.76</td>
<td>æ•°æ®ï¼Œä¸»èŠ‚ç‚¹(å®‰è£…elasticsearchã€logstashã€kibana)</td>
</tr>
<tr>
<td>elk2</td>
<td>10.0.0.77 /  172.16.1.77</td>
<td>æ•°æ®èŠ‚ç‚¹(å®‰è£…elasticsearch)</td>
</tr>
<tr>
<td>elk3</td>
<td>10.0.0.78 /  172.16.1.78</td>
<td>æ•°æ®èŠ‚ç‚¹(å®‰è£…elasticsearch)</td>
</tr>
</tbody>
</table>
</div>
<p><strong>ç¯å¢ƒå‡†å¤‡</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1ã€3å°æœºå™¨æ—¶é—´éœ€è¦åŒæ­¥</span><br><span class="line">[root@elk1 ~]#  yum install -y ntpdate</span><br><span class="line">[root@elk2 ~]#  yum install -y ntpdate</span><br><span class="line">[root@elk3 ~]#  yum install -y ntpdate</span><br><span class="line"></span><br><span class="line"><span class="comment">#Ansible: ntpåŒæ­¥ç½‘ç»œæ—¶é—´</span></span><br><span class="line">* * * * * /usr/sbin/ntpdate cn.pool.ntp.org &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure>
<p><strong>1ã€éƒ¨ç½²Elasticsearch</strong></p>
<p>1ã€å®‰è£…jdk-11.0.16</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1ã€3å°æœºå™¨å‡†å¤‡rpmåŒ…</span><br><span class="line">[root@elk1 elk]# <span class="built_in">ls</span></span><br><span class="line">elasticsearch-7.13.2-x86_64.rpm   kibana-7.13.2-linux-x86_64.tar.gz</span><br><span class="line">jdk-11.0.16_linux-x64_bin.tar.gz  logstash-7.13.2-linux-x86_64.tar.gz</span><br><span class="line"></span><br><span class="line">2ã€3å°æœºå™¨å®‰è£…jdk-11.0.16</span><br><span class="line">[root@elk1 elk]# <span class="built_in">mkdir</span> /usr/local/jdk</span><br><span class="line">[root@elk1 ~]#  <span class="built_in">mv</span> jdk-11.0.16_linux-x64_bin.tar.gz  /usr/local/jdk/</span><br><span class="line">[root@elk1 ~]# <span class="built_in">cd</span> /usr/local/jdk/</span><br><span class="line">[root@elk1 jdk]# tar xf jdk-11.0.16_linux-x64_bin.tar.gz </span><br><span class="line"></span><br><span class="line">3ã€3å°æœºå™¨é…ç½®ç¯å¢ƒå˜é‡</span><br><span class="line">[root@elk1 ~]#  vim /etc/profile</span><br><span class="line"><span class="comment">#set java environment</span></span><br><span class="line">JAVA_HOME=/usr/local/jdk/jdk-11.0.16</span><br><span class="line">CLASSPATH=<span class="variable">$JAVA_HOME</span>/lib/</span><br><span class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH JAVA_HOME CLASSPATH</span><br><span class="line"></span><br><span class="line">4ã€ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</span><br><span class="line">[root@elk1 jdk]# <span class="built_in">source</span> /etc/profile</span><br><span class="line">[root@elk2 jdk]# <span class="built_in">source</span> /etc/profile</span><br><span class="line">[root@elk3 jdk]# <span class="built_in">source</span> /etc/profile</span><br><span class="line"></span><br><span class="line">5ã€æ£€æŸ¥JDKæ˜¯å¦å®‰è£…æˆåŠŸ(å‡ºç°å¦‚ä¸‹ä¿¡æ¯è¯´æ˜å®‰è£…æˆåŠŸ)</span><br><span class="line">[root@elk1 jdk]# java -version</span><br><span class="line">java version <span class="string">&quot;11.0.16&quot;</span> 2022-07-19 LTS</span><br><span class="line">Java(TM) SE Runtime Environment 18.9 (build 11.0.16+11-LTS-199)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.16+11-LTS-199, mixed mode)</span><br></pre></td></tr></table></figure>
<p>2ã€å®‰è£…Elasticsearchï¼ˆç®€ç§°ESï¼‰é›†ç¾¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">1ã€3å°æœºå™¨æ“ä½œå®‰è£…elasticsearch-7.13.2-x86_64.rpm</span><br><span class="line">[root@elk1 elk]# <span class="built_in">mkdir</span> /usr/local/elk</span><br><span class="line">[root@elk1 ~]#  <span class="built_in">mv</span> elasticsearch-7.13.2-x86_64.rpm  /usr/local/elk</span><br><span class="line">[root@elk1 ~]# <span class="built_in">cd</span> /usr/local/elk</span><br><span class="line">[root@elk1 elk]# yum -y install elasticsearch-7.13.2-x86_64.rpm </span><br><span class="line"></span><br><span class="line">2ã€åˆ›å»ºç”¨æˆ·åŠæˆæƒ</span><br><span class="line">Elasticsearchè¦æ±‚ä»¥érootèº«ä»½å¯åŠ¨ï¼Œåœ¨æ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºç”¨æˆ·ç»„å’Œç”¨æˆ·</span><br><span class="line">[root@elk3 elk]# groupadd elastic;useradd elastic -g elastic</span><br><span class="line">[root@elk3 elk]# <span class="built_in">id</span> elastic</span><br><span class="line">uid=1000(elastic) gid=1000(elastic) <span class="built_in">groups</span>=1000(elastic)</span><br><span class="line"></span><br><span class="line">3ã€åœ¨æ¯ä¸ªèŠ‚ç‚¹åˆ›å»ºæ•°æ®dataå’Œæ—¥å¿—logsç›®å½•</span><br><span class="line">[root@elk1 elk]# <span class="built_in">mkdir</span> -p  /data/elk/&#123;data,logs&#125;;<span class="built_in">chown</span> -R elastic.elastic /data;ll /data/</span><br><span class="line"></span><br><span class="line">4ã€esé›†ç¾¤æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦å»è®¾å®šä»–ä»¬ä¹‹é—´çš„é›†ç¾¤å…³ç³»</span><br><span class="line">elk1 èŠ‚ç‚¹ è®¾ç½®çš„å†…å®¹å¦‚ä¸‹ï¼š</span><br><span class="line">[root@elk1 elk]# grep <span class="string">&quot;^[a-Z]&quot;</span> /etc/elasticsearch/elasticsearch.yml</span><br><span class="line">cluster.name: elk       <span class="comment">#é›†ç¾¤åå­—</span></span><br><span class="line">node.name: elk1         <span class="comment">#è¿™è¡Œæ²¡æœ‰ï¼Œç›´æ¥æ·»åŠ åœ¨node.name: ela1 çš„ä¸‹é¢å°±å¯ä»¥</span></span><br><span class="line">node.data: <span class="literal">true</span></span><br><span class="line">path.data: /data/elk/data</span><br><span class="line">path.logs: /data/elk/logs</span><br><span class="line">network.host: 0.0.0.0    <span class="comment">#åªè¦æ˜¯æœ¬æœºçš„Ipæ‰¾æˆ‘éƒ½å¯ä»¥</span></span><br><span class="line">http.port: 9200</span><br><span class="line">discovery.seed_hosts: [<span class="string">&quot;172.16.1.76&quot;</span>, <span class="string">&quot;172.16.1.77&quot;</span>, <span class="string">&quot;172.16.1.78&quot;</span>]</span><br><span class="line">cluster.initial_master_nodes: [<span class="string">&quot;elk1&quot;</span>, <span class="string">&quot;elk2&quot;</span>, <span class="string">&quot;elk3&quot;</span>]   <span class="comment">#å¯é€‰çš„ä¸»èŠ‚ç‚¹éƒ½æœ‰è°</span></span><br><span class="line"></span><br><span class="line">elk2 elk3æœºå™¨éƒ½æ˜¯ä¸€æ ·çš„å†™æ³•ï¼Œæ‰€ä»¥ç›´æ¥scpè¿‡å»</span><br><span class="line">[root@elk1 elk]# scp /etc/elasticsearch/elasticsearch.yml 172.16.1.77:/etc/elasticsearch</span><br><span class="line">[root@elk1 elk]# scp /etc/elasticsearch/elasticsearch.yml 172.16.1.78:/etc/elasticsearch</span><br><span class="line"></span><br><span class="line">[root@elk2 elk]# vim /etc/elasticsearch/elasticsearch.yml </span><br><span class="line">node.name: elk2</span><br><span class="line">[root@elk3 elk]# vim /etc/elasticsearch/elasticsearch.yml </span><br><span class="line">node.name: elk3</span><br><span class="line"></span><br><span class="line"><span class="comment">##å‚æ•°è¯´æ˜--------------------------------------------------------</span></span><br><span class="line">cluster.name é›†ç¾¤åç§°ï¼Œå„èŠ‚ç‚¹é…æˆç›¸åŒçš„é›†ç¾¤åç§°ã€‚</span><br><span class="line">node.name èŠ‚ç‚¹åç§°ï¼Œå„èŠ‚ç‚¹é…ç½®ä¸åŒã€‚</span><br><span class="line">node.data æŒ‡ç¤ºèŠ‚ç‚¹æ˜¯å¦ä¸ºæ•°æ®èŠ‚ç‚¹ã€‚æ•°æ®èŠ‚ç‚¹åŒ…å«å¹¶ç®¡ç†ç´¢å¼•çš„ä¸€éƒ¨åˆ†ã€‚</span><br><span class="line">path.data æ•°æ®å­˜å‚¨ç›®å½•ã€‚</span><br><span class="line">path.logs æ—¥å¿—å­˜å‚¨ç›®å½•ã€‚</span><br><span class="line">network.host ç»‘å®šèŠ‚ç‚¹IPã€‚</span><br><span class="line">http.port ç›‘å¬ç«¯å£ã€‚</span><br><span class="line">discovery.seed_hosts æŒ‡å®šé›†ç¾¤æˆå‘˜ï¼Œç”¨äºä¸»åŠ¨å‘ç°ä»–ä»¬ï¼Œ æ‰€æœ‰æˆå‘˜éƒ½è¦å†™è¿›æ¥ï¼ŒåŒ…æ‹¬è‡ªå·±ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸­åº”è¯¥å†™ä¸€æ ·çš„ä¿¡æ¯</span><br><span class="line">cluster.initial_master_nodes æŒ‡å®šæœ‰èµ„æ ¼æˆä¸º master çš„èŠ‚ç‚¹</span><br><span class="line">http.cors.enabled ç”¨äºå…è®¸<span class="built_in">head</span>æ’ä»¶è®¿é—®ESã€‚</span><br><span class="line">http.cors.allow-origin å…è®¸çš„æºåœ°å€ã€‚</span><br><span class="line"></span><br><span class="line">æ³¨æ„: -</span><br><span class="line">å½“ä½ ä¸ºæä¾›è‡ªå®šä¹‰è®¾ç½®æ—¶ network.host ï¼ŒElasticsearchä¼šå‡è®¾æ‚¨æ­£åœ¨ä»å¼€å‘æ¨¡å¼è¿‡æ¸¡åˆ°ç”Ÿäº§æ¨¡å¼ï¼Œå¹¶å°†è®¸å¤šç³»ç»Ÿå¯åŠ¨æ£€æŸ¥ä»è­¦å‘Šå‡çº§åˆ°å¼‚å¸¸ã€‚</span><br><span class="line">cluster.initial_master_nodes ä¸­çš„èŠ‚ç‚¹åç§°éœ€è¦å’Œ node.name çš„åç§°ä¸€è‡´ã€‚</span><br><span class="line"><span class="comment">#---------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">4ã€3å°æœºå™¨è®¾ç½®elasticsearchçš„JVMæœ€å¤§æœ€å°å†…å­˜é™åˆ¶</span><br><span class="line"><span class="comment">###    ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼å‘åœ¨è¿™é‡Œï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line">[root@elk1 elk]#  vim /etc/elasticsearch/jvm.options</span><br><span class="line">-Xms1g</span><br><span class="line">-Xmx1g</span><br><span class="line">å¦‚æœä½ çš„è™šæ‹Ÿæœºåªç»™äº†1G è¿™é‡Œå°±è¦æ”¹æˆ512mbï¼Œï¼ˆæœ¬äººæ²¡äº²è‡ªè®¾ç½®è¿‡ï¼Œé€‰æ‹©çš„ä¸‹é¢çš„æ–¹æ³•ï¼‰</span><br><span class="line">å¦‚æœä½ çš„è™šæ‹Ÿæœºç»™äº†3G è¿™é‡Œå°±ä¸ç”¨ç®¡ï¼ˆæˆ‘ç›´æ¥ç»™äº†è™šæ‹Ÿæœºå†…å­˜ï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4ã€3å°æœºå™¨æ‰§è¡Œ  å¯åŠ¨</span><br><span class="line">[root@elk1 elk]# systemctl daemon-reload;systemctl <span class="built_in">enable</span> elasticsearch.service </span><br><span class="line">systemctl start elasticsearch.service </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="11"><a href="#11" class="headerlink" title="11."></a>11.</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">1ã€æ·»åŠ yumä»“åº“ã€‘</span><br><span class="line"><span class="comment"># rootæ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># å¯¼å…¥ä»“åº“å¯†é’¥</span></span><br><span class="line">[root@elk1 ~]# rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ yumæº</span></span><br><span class="line"><span class="comment"># ç¼–è¾‘æ–‡ä»¶Â </span></span><br><span class="line">[root@elk1 ~]# vim /etc/elasticsearch/elasticsearch.yml +17</span><br><span class="line">[elasticsearch-7.x]</span><br><span class="line">name=Elasticsearch repository <span class="keyword">for</span> 7.x packages</span><br><span class="line">baseurl=https://artifacts.elastic.co/packages/7.x/yum</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch</span><br><span class="line">enabled=1</span><br><span class="line">autorefresh=1</span><br><span class="line"><span class="built_in">type</span>=rpm-md</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°yumç¼“å­˜</span></span><br><span class="line">[root@elk1 ~]# yum makecache</span><br><span class="line"></span><br><span class="line">2ã€å®‰è£…es ã€‘</span><br><span class="line">[root@elk1 ~]# yum install -y elasticsearch</span><br><span class="line"></span><br><span class="line">3ã€é…ç½®es ã€‘</span><br><span class="line">[root@elk1 ~]# vim /etc/elasticsearch/elasticsearch.yml</span><br><span class="line"></span><br><span class="line"><span class="comment"># 17è¡Œï¼Œè®¾ç½®é›†ç¾¤åç§°</span></span><br><span class="line">cluster.name: my-cluster</span><br><span class="line"></span><br><span class="line"><span class="comment"># 23è¡Œï¼Œè®¾ç½®èŠ‚ç‚¹åç§°</span></span><br><span class="line">node.name: node-1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 56è¡Œï¼Œå…è®¸å¤–ç½‘è®¿é—®</span></span><br><span class="line">network.host: 0.0.0.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 74è¡Œï¼Œé…ç½®é›†ç¾¤masterèŠ‚ç‚¹</span></span><br><span class="line">cluster.initial_master_nodes: [<span class="string">&quot;node-1&quot;</span>]</span><br><span class="line"></span><br><span class="line">4ã€å¯åŠ¨es ã€‘</span><br><span class="line">[root@elk1 ~]# systemctl start elasticsearch;systemctl <span class="built_in">enable</span> elasticsearch</span><br><span class="line">[root@elk1 ~]# netstat -lntup |grep 9200</span><br><span class="line">tcp6       0      0 :::9200                 :::*                    LISTEN      7400/java  </span><br><span class="line"></span><br><span class="line">5ã€æ‰“å¼€æµè§ˆå™¨æµ‹è¯•</span><br><span class="line">10.0.0.76:9200</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240624201722843.png" alt="image-20240624201722843"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.2ã€å®‰è£…Kibanaã€‘</span><br><span class="line">[root@elk1 ~]# vim /etc/kibana/kibana.yml</span><br><span class="line"> <span class="comment">#ç¬¬2è¡Œ</span></span><br><span class="line"> server.port: 5601</span><br><span class="line"> <span class="comment">#ç¬¬7è¡Œ</span></span><br><span class="line"> server.host: <span class="string">&quot;0.0.0.0&quot;</span></span><br><span class="line"> [root@elk1 ~]# systemctl start kibana</span><br><span class="line"> </span><br><span class="line"> æ‰“å¼€æµè§ˆå™¨æµ‹è¯•</span><br><span class="line">10.0.0.76:5601</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240624203100864.png" alt="image-20240624203100864" style="zoom:67%;" /></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="12-éœ€è¦è‡ªå·±è°ƒç ”"><a href="#12-éœ€è¦è‡ªå·±è°ƒç ”" class="headerlink" title="12  éœ€è¦è‡ªå·±è°ƒç ”"></a>12  éœ€è¦è‡ªå·±è°ƒç ”</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">rabbitMQï¼Œè¿™ä¸ªä¸èƒ½å¢åˆ æ”¹æŸ¥ï¼Œæˆ‘ä»¬ä¸èƒ½æ‰‹åŠ¨æ”¾æ•°æ®ï¼Œå…ˆå°è¯•ä¸€ä¸‹èƒ½ä¸èƒ½æ”¾æ•°æ®</span><br><span class="line">postgreSQL</span><br><span class="line">1ã€å®‰è£…</span><br><span class="line">2ã€æ•°æ®çš„å¢åˆ æ”¹æŸ¥</span><br><span class="line">3ã€ç”¨æˆ·ç®¡ç†</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">LVS</span><br><span class="line">TSDB æ•°æ®åº“</span><br><span class="line">ä½ è¯´çš„è¿™ä¸ªæ•°æ®åº“æˆ‘å¯èƒ½æ²¡æœ‰ç”¨è¿‡ï¼Œæˆ‘ä»¬å…¬å¸ä¹‹å‰ç”¨çš„æ˜¯....å¦‚æœè´µå…¬å¸ç”¨çš„æ˜¯è¿™ä¸ªçš„è¯ï¼Œæˆ‘è§‰å¾—æ•°æ®åº“éƒ½æ˜¯å¤§åŒå°å¼‚ï¼Œæˆ‘å¯ä»¥å­¦</span><br><span class="line"></span><br><span class="line">æ·˜å®ç”¨çš„tengine,æ˜¯åœ¨nginxåŸºç¡€ä¸Šåšçš„äºŒæ¬¡å¼€å‘ï¼Œå’Œnginxå‡ ä¹ä¸€æ ·ï¼Œé…ç½®æ–‡ä»¶ä¹Ÿæ˜¯å·®ä¸å¤šçš„</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">é¡¹ç›®ç»éªŒ:</span><br><span class="line">ä»£ç è‡ªåŠ¨åŒ–å‘å¸ƒ</span><br><span class="line">é¡¹ç›®éœ€æ±‚:</span><br><span class="line">1.è¿ç»´é…åˆå¼€å‘æµ‹è¯•å ç”¨å¤§é‡çš„æ—¶é—´</span><br><span class="line">2.å¿«é€Ÿå®ç°CICDä»è€Œå°½æ—©å‘ç°ä»£ç æˆ–éƒ¨ç½²è¿‡ç¨‹ä¸­å­˜åœ¨çš„é—®é¢˜</span><br><span class="line">3.ä½¿ç”¨å‚æ•°åŒ–æ„å»ºè¿›è¡Œçº¿ä¸Šå‘å¸ƒé™ä½å‡ºé”™ç‡ã€å®ç°ç§’çº§å›æ»š</span><br><span class="line">4.å‘å¸ƒç»“æœé€šçŸ¥ç›¸å…³äººå‘˜</span><br><span class="line">å®ç°é¡¹ç›®:</span><br><span class="line">1.æ­å»ºGitlabæœåŠ¡å™¨å¹¶æ§åˆ¶é¡¹ç›®æƒé™</span><br><span class="line">2.æ­å»ºå¹¶é…ç½®JenkinsæœåŠ¡å™¨</span><br><span class="line">3.æŒ‰é¡¹ç›®éœ€æ±‚åˆ›å»º</span><br><span class="line">TAGé¡¹ç›®(ä¸ºMASTERä¸»å¹²æ‰“æ ‡ç­¾)</span><br><span class="line">æµ‹è¯•é¡¹ç›®(å¿«é€ŸCI CDåŠæ—©å‘ç°é—®é¢˜å¹¶ä¸”é…ç½®è‡ªåŠ¨è§¦å‘ä¸è¦è¿ç»´å¹²é¢„)</span><br><span class="line">JAVAé¡¹ç›®(jenkinsé›†æˆmvnç¼–è¯‘å¹¶å‘å¸ƒæµ‹è¯•ç¯å¢ƒ)</span><br><span class="line">å‘å¸ƒé¡¹ç›®(åˆ©ç”¨tagæ ‡ç­¾è¿›è¡Œçº¿ä¸Šå‘å¸ƒå’Œç§’çº§å›æ»š)</span><br><span class="line">4.æ­å»ºSonarQubeä»£ç è´¨é‡æ£€æµ‹å¹³å°(Jenkinsé›†æˆSonarè¿›è¡Œè‡ªåŠ¨åŒ–ä»£ç åˆ†ææ£€æµ‹)</span><br><span class="line">5.æ­å»ºNexusç§æœ(javaä»£ç ä¸‹è½½ä¾èµ–å¿«é€Ÿç¼–è¯‘)</span><br><span class="line">6.ç¼–å†™Jenkins-pipelineæµæ°´çº¿(çœ‹æ¿æ–¹å¼å¿«é€Ÿå®šä½é—®é¢˜)</span><br><span class="line">7.Jenkinså¢åŠ ä¸‰å°ä»èŠ‚ç‚¹å®ç°åˆ†å¸ƒå¼æ„å»º(æé«˜é¡¹ç›®çš„æ„å»ºé€Ÿåº¦å’Œç¨³å®šæ€§)</span><br><span class="line">8.Jenkinsé›†æˆç¬¬ä¸‰æ–¹æ’ä»¶å‘é€æ„å»ºç»“æœåˆ°è¿ç»´å¼€å‘ç»„</span><br></pre></td></tr></table></figure>
<h2 id="13-redisçš„infoè·å–ä¿¡æ¯"><a href="#13-redisçš„infoè·å–ä¿¡æ¯" class="headerlink" title="13.redisçš„infoè·å–ä¿¡æ¯"></a>13.redisçš„infoè·å–ä¿¡æ¯</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹redisç›¸å…³ä¿¡æ¯</span></span><br><span class="line">127.0.0.1:6379&gt; info</span><br><span class="line"><span class="comment">#æœåŠ¡ç«¯ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Server</span></span><br><span class="line"><span class="comment">#ç‰ˆæœ¬å·</span></span><br><span class="line">redis_version:3.2.12</span><br><span class="line"><span class="comment">#redisç‰ˆæœ¬æ§åˆ¶å®‰å…¨hashç®—æ³•</span></span><br><span class="line">redis_git_sha1:00000000</span><br><span class="line"><span class="comment">#redisç‰ˆæœ¬æ§åˆ¶è„æ•°æ®</span></span><br><span class="line">redis_git_dirty:0</span><br><span class="line"><span class="comment">#rediså»ºç«‹id</span></span><br><span class="line">redis_build_id:3b947b91b7c31389</span><br><span class="line"><span class="comment">#è¿è¡Œæ¨¡å¼ï¼šå•æœºï¼ˆå¦‚æœæ˜¯é›†ç¾¤ï¼šclusterï¼‰</span></span><br><span class="line">redis_mode:standalone</span><br><span class="line"><span class="comment">#redisæ‰€åœ¨å®¿ä¸»æœºçš„æ“ä½œç³»ç»Ÿ</span></span><br><span class="line">os:Linux 2.6.32-431.el6.x86_64 x86_64</span><br><span class="line"><span class="comment">#æ¶æ„ï¼ˆ64ä½ï¼‰</span></span><br><span class="line">arch_bits:64</span><br><span class="line"><span class="comment">#redisäº‹ä»¶å¾ªç¯æœºåˆ¶</span></span><br><span class="line">multiplexing_api:epoll</span><br><span class="line"><span class="comment">#GCCçš„ç‰ˆæœ¬</span></span><br><span class="line">gcc_version:4.4.7</span><br><span class="line"><span class="comment">#redisè¿›ç¨‹çš„pid</span></span><br><span class="line">process_id:33007</span><br><span class="line"><span class="comment">#redisæœåŠ¡å™¨çš„éšæœºæ ‡è¯†ç¬¦(ç”¨äºsentinelå’Œé›†ç¾¤)</span></span><br><span class="line">run_id:46b07234cf763cab04d1b31433b94e31b68c6e26</span><br><span class="line"><span class="comment">#redisçš„ç«¯å£</span></span><br><span class="line">tcp_port:6379</span><br><span class="line"><span class="comment">#redisæœåŠ¡å™¨çš„è¿è¡Œæ—¶é—´ï¼ˆå•ä½ç§’ï¼‰</span></span><br><span class="line">uptime_in_seconds:318283</span><br><span class="line"><span class="comment">#redisæœåŠ¡å™¨çš„è¿è¡Œæ—¶é—´ï¼ˆå•ä½å¤©ï¼‰</span></span><br><span class="line">uptime_in_days:3</span><br><span class="line"><span class="comment">#rediså†…éƒ¨è°ƒåº¦ï¼ˆè¿›è¡Œå…³é—­timeoutçš„å®¢æˆ·ç«¯ï¼Œåˆ é™¤è¿‡æœŸkeyç­‰ç­‰ï¼‰é¢‘ç‡ï¼Œç¨‹åºè§„å®šserverCronæ¯ç§’è¿è¡Œ10æ¬¡</span></span><br><span class="line">hz:10</span><br><span class="line"><span class="comment">#è‡ªå¢çš„æ—¶é’Ÿï¼Œç”¨äºLRUç®¡ç†,è¯¥æ—¶é’Ÿ100ms(hz=10,å› æ­¤æ¯1000ms/10=100msæ‰§è¡Œä¸€æ¬¡å®šæ—¶ä»»åŠ¡)æ›´æ–°ä¸€æ¬¡</span></span><br><span class="line">lru_clock:13601047</span><br><span class="line"><span class="comment">#æœåŠ¡ç«¯è¿è¡Œå‘½ä»¤è·¯å¾„</span></span><br><span class="line">executable:/application/redis-3.2.12/redis-server</span><br><span class="line"><span class="comment">#é…ç½®æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">config_file:/etc/redis/6379/redis.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®¢æˆ·ç«¯ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Clients</span></span><br><span class="line"><span class="comment">#å·²è¿æ¥å®¢æˆ·ç«¯çš„æ•°é‡(ä¸åŒ…æ‹¬é€šè¿‡slaveçš„æ•°é‡)</span></span><br><span class="line">connected_clients:2</span><br><span class="line"><span class="comment">##å½“å‰è¿æ¥çš„å®¢æˆ·ç«¯å½“ä¸­ï¼Œæœ€é•¿çš„è¾“å‡ºåˆ—è¡¨ï¼Œç”¨client listå‘½ä»¤è§‚å¯Ÿomemå­—æ®µæœ€å¤§å€¼</span></span><br><span class="line">client_longest_output_list:0</span><br><span class="line"><span class="comment">#å½“å‰è¿æ¥çš„å®¢æˆ·ç«¯å½“ä¸­ï¼Œæœ€å¤§è¾“å…¥ç¼“å­˜ï¼Œç”¨client listå‘½ä»¤è§‚å¯Ÿqbufå’Œqbuf-freeä¸¤ä¸ªå­—æ®µæœ€å¤§å€¼</span></span><br><span class="line">client_biggest_input_buf:0</span><br><span class="line"><span class="comment">#æ­£åœ¨ç­‰å¾…é˜»å¡å‘½ä»¤(BLPOPã€BRPOPã€BRPOPLPUSH)çš„å®¢æˆ·ç«¯çš„æ•°é‡</span></span><br><span class="line">blocked_clients:0</span><br><span class="line"></span><br><span class="line"><span class="comment">#å†…å­˜ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Memory</span></span><br><span class="line"><span class="comment">#ç”±redisåˆ†é…å™¨åˆ†é…çš„å†…å­˜æ€»é‡ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½</span></span><br><span class="line">used_memory:845336</span><br><span class="line"><span class="comment">#ä»¥äººç±»å¯è¯»çš„æ ¼å¼è¿”å›redisåˆ†é…çš„å†…å­˜æ€»é‡</span></span><br><span class="line">used_memory_human:825.52K</span><br><span class="line"><span class="comment">#ä»æ“ä½œç³»ç»Ÿçš„è§’åº¦ï¼Œè¿”å›rediså·²åˆ†é…çš„å†…å­˜æ€»é‡(ä¿—ç§°å¸¸é©»é›†å¤§å°)ã€‚è¿™ä¸ªå€¼å’Œtopå‘½ä»¤çš„è¾“å‡ºä¸€è‡´</span></span><br><span class="line">used_memory_rss:1654784</span><br><span class="line"><span class="comment">#ä»¥äººç±»å¯è¯»æ–¹å¼ï¼Œè¿”å›rediså·²åˆ†é…çš„å†…å­˜æ€»é‡</span></span><br><span class="line">used_memory_rss_human:1.58M</span><br><span class="line"><span class="comment">#redisçš„å†…å­˜æ¶ˆè€—å³°å€¼(ä»¥å­—èŠ‚ä¸ºå•ä½)</span></span><br><span class="line">used_memory_peak:845336</span><br><span class="line"><span class="comment">#ä»¥äººç±»å¯è¯»çš„æ ¼å¼è¿”å›redisçš„å†…å­˜æ¶ˆè€—å³°å€¼</span></span><br><span class="line">used_memory_peak_human:825.52K</span><br><span class="line"><span class="comment">#æ•´ä¸ªç³»ç»Ÿå†…å­˜</span></span><br><span class="line">total_system_memory:1028517888</span><br><span class="line"><span class="comment">#ä»¥äººç±»å¯è¯»çš„æ ¼å¼ï¼Œæ˜¾ç¤ºæ•´ä¸ªç³»ç»Ÿå†…å­˜</span></span><br><span class="line">total_system_memory_human:980.87M</span><br><span class="line"><span class="comment">#Luaè„šæœ¬å­˜å‚¨å ç”¨çš„å†…å­˜</span></span><br><span class="line">used_memory_lua:37888</span><br><span class="line"><span class="comment">#ä»¥äººç±»å¯è¯»çš„æ ¼å¼ï¼Œæ˜¾ç¤ºLuaè„šæœ¬å­˜å‚¨å ç”¨çš„å†…å­˜</span></span><br><span class="line">used_memory_lua_human:37.00K</span><br><span class="line"><span class="comment">#Rediså®ä¾‹çš„æœ€å¤§å†…å­˜é…ç½®</span></span><br><span class="line">maxmemory:0</span><br><span class="line"><span class="comment">#ä»¥äººç±»å¯è¯»çš„æ ¼å¼ï¼Œæ˜¾ç¤ºRediså®ä¾‹çš„æœ€å¤§å†…å­˜é…ç½®</span></span><br><span class="line">maxmemory_human:0B</span><br><span class="line"><span class="comment">#å½“è¾¾åˆ°maxmemoryæ—¶çš„æ·˜æ±°ç­–ç•¥</span></span><br><span class="line">maxmemory_policy:noeviction</span><br><span class="line"><span class="comment">#å†…å­˜åˆ†è£‚æ¯”ä¾‹ï¼ˆused_memory_rss/ used_memoryï¼‰</span></span><br><span class="line">mem_fragmentation_ratio:1.96</span><br><span class="line"><span class="comment">#å†…å­˜åˆ†é…å™¨</span></span><br><span class="line">mem_allocator:jemalloc-4.0.3</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒä¹…åŒ–ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Persistence</span></span><br><span class="line"><span class="comment">#æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨è½½å…¥æŒä¹…åŒ–æ–‡ä»¶</span></span><br><span class="line">loading:0</span><br><span class="line"><span class="comment">#ç¦»æœ€è¿‘ä¸€æ¬¡æˆåŠŸç”Ÿæˆrdbæ–‡ä»¶ï¼Œå†™å…¥å‘½ä»¤çš„ä¸ªæ•°ï¼Œå³æœ‰å¤šå°‘ä¸ªå†™å…¥å‘½ä»¤æ²¡æœ‰æŒä¹…åŒ–</span></span><br><span class="line">rdb_changes_since_last_save:131</span><br><span class="line"><span class="comment">#æœåŠ¡å™¨æ˜¯å¦æ­£åœ¨åˆ›å»ºrdbæ–‡ä»¶</span></span><br><span class="line">rdb_bgsave_in_progress:0</span><br><span class="line"><span class="comment">#æœ€è¿‘ä¸€æ¬¡rdbæŒä¹…åŒ–ä¿å­˜æ—¶é—´</span></span><br><span class="line">rdb_last_save_time:1540009420</span><br><span class="line"><span class="comment">#æœ€è¿‘ä¸€æ¬¡rdbæŒä¹…åŒ–æ˜¯å¦æˆåŠŸ</span></span><br><span class="line">rdb_last_bgsave_status:ok</span><br><span class="line"><span class="comment">#æœ€è¿‘ä¸€æ¬¡æˆåŠŸç”Ÿæˆrdbæ–‡ä»¶è€—æ—¶ç§’æ•°</span></span><br><span class="line">rdb_last_bgsave_time_sec:-1</span><br><span class="line"><span class="comment">#å¦‚æœæœåŠ¡å™¨æ­£åœ¨åˆ›å»ºrdbæ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªåŸŸè®°å½•çš„å°±æ˜¯å½“å‰çš„åˆ›å»ºæ“ä½œå·²ç»è€—è´¹çš„ç§’æ•°</span></span><br><span class="line">rdb_current_bgsave_time_sec:-1</span><br><span class="line"><span class="comment">#æ˜¯å¦å¼€å¯äº†aof</span></span><br><span class="line">aof_enabled:0</span><br><span class="line"><span class="comment">#æ ‡è¯†aofçš„rewriteæ“ä½œæ˜¯å¦åœ¨è¿›è¡Œä¸­</span></span><br><span class="line">aof_rewrite_in_progress:0</span><br><span class="line"><span class="comment">#rewriteä»»åŠ¡è®¡åˆ’ï¼Œå½“å®¢æˆ·ç«¯å‘é€bgrewriteaofæŒ‡ä»¤ï¼Œå¦‚æœå½“å‰rewriteå­è¿›ç¨‹æ­£åœ¨æ‰§è¡Œï¼Œé‚£ä¹ˆå°†å®¢æˆ·ç«¯è¯·æ±‚çš„bgrewriteaofå˜ä¸ºè®¡åˆ’ä»»åŠ¡ï¼Œå¾…aofå­è¿›ç¨‹ç»“æŸåæ‰§è¡Œrewrite</span></span><br><span class="line">aof_rewrite_scheduled:0</span><br><span class="line"><span class="comment">#æœ€è¿‘ä¸€æ¬¡aof rewriteè€—è´¹çš„æ—¶é•¿</span></span><br><span class="line">aof_last_rewrite_time_sec:-1</span><br><span class="line"><span class="comment">#å¦‚æœrewriteæ“ä½œæ­£åœ¨è¿›è¡Œï¼Œåˆ™è®°å½•æ‰€ä½¿ç”¨çš„æ—¶é—´ï¼Œå•ä½ç§’</span></span><br><span class="line">aof_current_rewrite_time_sec:-1</span><br><span class="line"><span class="comment">#ä¸Šæ¬¡bgrewriteaofæ“ä½œçš„çŠ¶æ€</span></span><br><span class="line">aof_last_bgrewrite_status:ok</span><br><span class="line"><span class="comment">#ä¸Šæ¬¡aofå†™å…¥çŠ¶æ€</span></span><br><span class="line">aof_last_write_status:ok</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Stats</span></span><br><span class="line"><span class="comment">#æ–°åˆ›å»ºè¿æ¥ä¸ªæ•°,å¦‚æœæ–°åˆ›å»ºè¿æ¥è¿‡å¤šï¼Œè¿‡åº¦åœ°åˆ›å»ºå’Œé”€æ¯è¿æ¥å¯¹æ€§èƒ½æœ‰å½±å“ï¼Œè¯´æ˜çŸ­è¿æ¥ä¸¥é‡æˆ–è¿æ¥æ± ä½¿ç”¨æœ‰é—®é¢˜ï¼Œéœ€è°ƒç ”ä»£ç çš„è¿æ¥è®¾ç½®</span></span><br><span class="line">total_connections_received:19</span><br><span class="line"><span class="comment">#rediså¤„ç†çš„å‘½ä»¤æ•°</span></span><br><span class="line">total_commands_processed:299</span><br><span class="line"><span class="comment">#rediså½“å‰çš„qpsï¼Œrediså†…éƒ¨è¾ƒå®æ—¶çš„æ¯ç§’æ‰§è¡Œçš„å‘½ä»¤æ•°</span></span><br><span class="line">instantaneous_ops_per_sec:0</span><br><span class="line"><span class="comment">#redisç½‘ç»œå…¥å£æµé‡å­—èŠ‚æ•°</span></span><br><span class="line">total_net_input_bytes:10773</span><br><span class="line"><span class="comment">#redisç½‘ç»œå‡ºå£æµé‡å­—èŠ‚æ•°</span></span><br><span class="line">total_net_output_bytes:97146</span><br><span class="line"><span class="comment">#redisç½‘ç»œå…¥å£kps</span></span><br><span class="line">instantaneous_input_kbps:0.00</span><br><span class="line"><span class="comment">#redisç½‘ç»œå‡ºå£kps</span></span><br><span class="line">instantaneous_output_kbps:0.00</span><br><span class="line"><span class="comment">#æ‹’ç»çš„è¿æ¥ä¸ªæ•°ï¼Œredisè¿æ¥ä¸ªæ•°è¾¾åˆ°maxclientsé™åˆ¶ï¼Œæ‹’ç»æ–°è¿æ¥çš„ä¸ªæ•°</span></span><br><span class="line">rejected_connections:0</span><br><span class="line"><span class="comment">#ä¸»ä»å®Œå…¨åŒæ­¥æ¬¡æ•°</span></span><br><span class="line">sync_full:0</span><br><span class="line"><span class="comment">#ä¸»ä»å®Œå…¨åŒæ­¥æˆåŠŸæ¬¡æ•°</span></span><br><span class="line">sync_partial_ok:0</span><br><span class="line"><span class="comment">#ä¸»ä»å®Œå…¨åŒæ­¥å¤±è´¥æ¬¡æ•°</span></span><br><span class="line">sync_partial_err:0</span><br><span class="line"><span class="comment">#è¿è¡Œä»¥æ¥è¿‡æœŸçš„keyçš„æ•°é‡</span></span><br><span class="line">expired_keys:5</span><br><span class="line"><span class="comment">#è¿‡æœŸçš„æ¯”ç‡</span></span><br><span class="line">evicted_keys:0</span><br><span class="line"><span class="comment">#å‘½ä¸­æ¬¡æ•°</span></span><br><span class="line">keyspace_hits:85</span><br><span class="line"><span class="comment">#æ²¡å‘½ä¸­æ¬¡æ•°</span></span><br><span class="line">keyspace_misses:17</span><br><span class="line"><span class="comment">#å½“å‰ä½¿ç”¨ä¸­çš„é¢‘é“æ•°é‡</span></span><br><span class="line">pubsub_channels:0</span><br><span class="line"><span class="comment">#å½“å‰ä½¿ç”¨çš„æ¨¡å¼çš„æ•°é‡</span></span><br><span class="line">pubsub_patterns:0</span><br><span class="line"><span class="comment">#æœ€è¿‘ä¸€æ¬¡forkæ“ä½œé˜»å¡redisè¿›ç¨‹çš„è€—æ—¶æ•°ï¼Œå•ä½å¾®ç§’</span></span><br><span class="line">latest_fork_usec:0</span><br><span class="line"><span class="comment">#æ˜¯å¦å·²ç»ç¼“å­˜äº†åˆ°è¯¥åœ°å€çš„è¿æ¥</span></span><br><span class="line">migrate_cached_sockets:0</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸»ä»å¤åˆ¶ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Replication</span></span><br><span class="line"><span class="comment">#è§’è‰²ä¸»åº“</span></span><br><span class="line">role:master</span><br><span class="line"><span class="comment">#è¿æ¥slaveçš„ä¸ªæ•°</span></span><br><span class="line">connected_slaves:0</span><br><span class="line"><span class="comment">#ä¸»ä»åŒæ­¥åç§»é‡,æ­¤å€¼å¦‚æœå’Œä¸Šé¢çš„offsetç›¸åŒè¯´æ˜ä¸»ä»ä¸€è‡´æ²¡å»¶è¿Ÿï¼Œä¸master_replidå¯è¢«ç”¨æ¥æ ‡è¯†ä¸»å®ä¾‹å¤åˆ¶æµä¸­çš„ä½ç½®</span></span><br><span class="line">master_repl_offset:0</span><br><span class="line"><span class="comment">#å¤åˆ¶ç§¯å‹ç¼“å†²åŒºæ˜¯å¦å¼€å¯</span></span><br><span class="line">repl_backlog_active:0</span><br><span class="line"><span class="comment">#å¤åˆ¶ç§¯å‹ç¼“å†²å¤§å°</span></span><br><span class="line">repl_backlog_size:1048576</span><br><span class="line"><span class="comment">#å¤åˆ¶ç¼“å†²åŒºé‡Œåç§»é‡çš„å¤§å°</span></span><br><span class="line">repl_backlog_first_byte_offset:0</span><br><span class="line"><span class="comment">#æ­¤å€¼ç­‰äº master_repl_offset - repl_backlog_first_byte_offset,è¯¥å€¼ä¸ä¼šè¶…è¿‡repl_backlog_sizeçš„å¤§å°</span></span><br><span class="line">repl_backlog_histlen:0</span><br><span class="line"></span><br><span class="line"><span class="comment">#CPUä¿¡æ¯</span></span><br><span class="line"><span class="comment"># CPU</span></span><br><span class="line"><span class="comment">#å°†æ‰€æœ‰redisä¸»è¿›ç¨‹åœ¨å†…æ ¸æ€æ‰€å ç”¨çš„CPUæ—¶æ±‚å’Œç´¯è®¡èµ·æ¥</span></span><br><span class="line">used_cpu_sys:203.44</span><br><span class="line"><span class="comment">#å°†æ‰€æœ‰redisä¸»è¿›ç¨‹åœ¨ç”¨æˆ·æ€æ‰€å ç”¨çš„CPUæ—¶æ±‚å’Œç´¯è®¡èµ·æ¥</span></span><br><span class="line">used_cpu_user:114.57</span><br><span class="line"><span class="comment">#å°†åå°è¿›ç¨‹åœ¨å†…æ ¸æ€æ‰€å ç”¨çš„CPUæ—¶æ±‚å’Œç´¯è®¡èµ·æ¥</span></span><br><span class="line">used_cpu_sys_children:0.00</span><br><span class="line"><span class="comment">#å°†åå°è¿›ç¨‹åœ¨ç”¨æˆ·æ€æ‰€å ç”¨çš„CPUæ—¶æ±‚å’Œç´¯è®¡èµ·æ¥</span></span><br><span class="line">used_cpu_user_children:0.00</span><br><span class="line"></span><br><span class="line"><span class="comment">#é›†ç¾¤ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Cluster</span></span><br><span class="line"><span class="comment">#å®ä¾‹æ˜¯å¦å¯ç”¨é›†ç¾¤æ¨¡å¼</span></span><br><span class="line">cluster_enabled:0</span><br><span class="line"></span><br><span class="line"><span class="comment">#åº“ç›¸å…³ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># Keyspace</span></span><br><span class="line"><span class="comment">#db0çš„keyçš„æ•°é‡,ä»¥åŠå¸¦æœ‰ç”Ÿå­˜æœŸçš„keyçš„æ•°,å¹³å‡å­˜æ´»æ—¶é—´</span></span><br><span class="line">db0:keys=17,expires=0,avg_ttl=0</span><br><span class="line"></span><br><span class="line"><span class="comment">#å•ç‹¬æŸ¥çœ‹æŸä¸€ä¸ªä¿¡æ¯ï¼ˆä¾‹ï¼šæŸ¥çœ‹CPUä¿¡æ¯ï¼‰</span></span><br><span class="line">127.0.0.1:6379&gt; info cpu</span><br><span class="line"><span class="comment"># CPU</span></span><br><span class="line">used_cpu_sys:203.45</span><br><span class="line">used_cpu_user:114.58</span><br><span class="line">used_cpu_sys_children:0.00</span><br><span class="line">used_cpu_user_children:0.00</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é¢è¯•é—®é¢˜ï¼šå…¬å¸æœåŠ¡å™¨çš„æ¶æ„ æ—¥PV(è®¿é—®é‡,ä¸€ä¸ªç”¨æˆ·äº§ç”Ÿçš„è¯·æ±‚)å¤šå°‘  æŒ‰IPç®—æ˜¯(UV,çœŸå®ç”¨æˆ·)</span></span><br></pre></td></tr></table></figure>
<h2 id="14-Hugo-githubæ­å»ºåšå®¢"><a href="#14-Hugo-githubæ­å»ºåšå®¢" class="headerlink" title="14 Hugo+githubæ­å»ºåšå®¢"></a>14 Hugo+githubæ­å»ºåšå®¢</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1ã€ç¯å¢ƒä¸å·¥å…·å‡†å¤‡</span><br><span class="line">æœ¬æ•™ç¨‹ä¸»è¦é¢å¯¹çš„æ˜¯Windowsç”¨æˆ·</span><br><span class="line"></span><br><span class="line">æ“ä½œç³»ç»Ÿï¼šWindows10</span><br><span class="line">         GitHub å¸å·</span><br><span class="line">         Git</span><br><span class="line">         Node</span><br><span class="line">         Hexo</span><br><span class="line">         æ–‡æœ¬ç¼–è¾‘å™¨(å¼ºçƒˆæ¨èVSCODE)</span><br><span class="line">         ä¸€ä¸ªåŸŸåï¼ˆå¼ºçƒˆæ¨èä¹°ä¸ªåŸŸåï¼‰</span><br><span class="line">         äº‘æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰</span><br></pre></td></tr></table></figure>
<p>1ã€Githubæ³¨å†Œä¸åˆ›å»ºä»“åº“</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1ã€è¿›å…¥å®˜ç½‘ï¼šhttps://github.com/</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915140804270.png" alt="image-20240915140804270"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915141320902.png" alt="image-20240915141320902"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">é‚®ç®±ï¼š2659019085@qq.com</span><br><span class="line">å¯†ç ï¼šasm213641</span><br><span class="line">ç”¨æˆ·åï¼šaurora766</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2ã€ç‚¹å‡»å³ä¸Šè§’åˆ›å»ºä»“åº“ï¼Œåˆ›å»ºä¸€ä¸ª`&lt;ç”¨æˆ·å&gt;.github.io`çš„ä»“åº“ã€‚</span><br><span class="line"><span class="comment">#ä»“åº“çš„æ ¼å¼å¿…é¡»ä¸ºï¼š&lt;ç”¨æˆ·å&gt;.github.io (æ³¨æ„ï¼šå‰ç¼€å¿…é¡»ä¸ºç”¨æˆ·åï¼Œä¸è¦ç­‰åé¢404äº†å†æ¥ä¸ºä»€ä¹ˆï¼ï¼ï¼)</span></span><br><span class="line"></span><br><span class="line">3ã€Descriptionï¼šä¸ºæè¿°ä»“åº“ï¼ˆé€‰å¡«ï¼‰</span><br><span class="line"></span><br><span class="line">4ã€å‹¾é€‰ Initialize this repository with a README åˆå§‹åŒ–ä¸€ä¸ª README.md æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">5ã€ç‚¹å‡» Creat repository è¿›è¡Œåˆ›å»º</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915141830446.png" alt="image-20240915141830446"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915144412877.png" alt="image-20240915144412877"></p>
<p>2ã€Gitå®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1ã€è¿›å…¥å®˜ç½‘ï¼šhttps://git-scm.com/downloads ï¼Œç”±äºå®˜ç½‘ä¸‹è½½å¤ªæ…¢å¯ä»¥é€šè¿‡æ·˜å®çš„å¼€æºé•œåƒä¸‹è½½ ç½‘å€ï¼šhttps://registry.npmmirror.com/binary.html?path=git-for-windows/v2.36.1.windows.1/ ï¼Œä¸‹è½½ç‰ˆæœ¬æ›´å…·è‡ªå·±çš„éœ€æ±‚é€‰æ‹©å³å¯ã€‚</span><br><span class="line"></span><br><span class="line">2ã€ä¸‹è½½åå‚»ç“œå¼å®‰è£…Gitå³å¯ï¼Œå®‰è£…çš„ç›®å½•å¯ä»¥ä½¿ç”¨é»˜è®¤ç›®å½•ã€C:/Program Files/Gitã€‘ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰è·¯å¾„ã€‚  å®‰è£…çš„æ—¶å€™å°±é»˜è®¤ä¸€ç›´ç‚¹å‡»ä¸‹ä¸€æ­¥å°±è¡Œ</span><br><span class="line"></span><br><span class="line">3ã€ç‚¹å‡»ç”µè„‘å·¦ä¸‹è§’å¼€å§‹å³å¯çœ‹è§Git Bashã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Git CMD æ˜¯windows å‘½ä»¤è¡Œçš„æŒ‡ä»¤é£æ ¼</span><br><span class="line">Git Bash æ˜¯linuxç³»ç»Ÿçš„æŒ‡ä»¤é£æ ¼ï¼ˆå»ºè®®ä½¿ç”¨ï¼‰</span><br><span class="line">Git GUIæ˜¯å›¾å½¢åŒ–ç•Œé¢ï¼ˆæ–°æ‰‹å­¦ä¹ ä¸å»ºè®®ä½¿ç”¨ï¼‰</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240914212356457.png" alt="image-20240914212356457"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240914212518092.png" alt="image-20240914212518092"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">4ã€å¸¸ç”¨å‘½ä»¤</span><br><span class="line">git config -l                <span class="comment">#æŸ¥çœ‹æ‰€æœ‰é…ç½®</span></span><br><span class="line">git config --system --list   <span class="comment">#æŸ¥çœ‹ç³»ç»Ÿé…ç½®</span></span><br><span class="line">git config --global --list   <span class="comment">#æŸ¥çœ‹ç”¨æˆ·ï¼ˆå…¨å±€ï¼‰é…ç½®</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">5ã€é…ç½®ç”¨æˆ·åå’Œé‚®ç®±</span><br><span class="line">git config --global user.name <span class="string">&quot;ä½ çš„ç”¨æˆ·å&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;ä½ çš„é‚®ç®±&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git config --global user.name <span class="string">&quot;aurora766&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;2659019085@qq.com&quot;</span></span><br><span class="line"></span><br><span class="line">6ã€é€šè¿‡git config -l æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼Œè‡³æ­¤gitå®‰è£…åŠé…ç½®å…¨éƒ¨å®Œæˆã€‚</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915145119712.png" alt="image-20240915145119712"></p>
<p>3ã€Nodeå®‰è£…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1ã€æ‰“å¼€Nodeå®˜ç½‘ï¼Œä¸‹è½½å’Œè‡ªå·±ç³»ç»Ÿç›¸é…çš„Nodeçš„å®‰è£…ç¨‹åºï¼Œå¦åˆ™ä¼šå‡ºç°å®‰è£…é—®é¢˜ã€‚ä¸‹è½½åœ°å€ï¼šhttps://nodejs.org/en/download/</span><br><span class="line">æˆ‘ä¸ªäººçš„ç‰ˆæœ¬æ˜¯ v18.20.4ï¼ŒæŒ‰ç…§ä¸ªäººç»éªŒï¼Œå¯ä»¥é€‰ä¸ªä½ä¸€äº›çš„ç‰ˆæœ¬ï¼Œå¯ä»¥å’Œæˆ‘çš„ä¸€æ ·ï¼Œå¦åˆ™åé¢ä¼šå‡ºç°å„ç§ä¸å…¼å®¹çš„é—®é¢˜ï¼æˆ‘ä¹‹å‰å°±æ˜¯å®‰è£…16çš„ï¼Œç³»ç»Ÿæ— æ³•è¯†åˆ«ï¼Œå¦‚æœå¤§å®¶é‡åˆ°é—®é¢˜å»ºè®®é€‰ä¸ªä½ç‰ˆæœ¬çš„ï¼å†å²ç‰ˆæœ¬ä¸‹è½½é¡µé¢ï¼šhttps://nodejs.org/en/download/releases/</span><br><span class="line"></span><br><span class="line">2ã€ä¸‹è½½åå®‰è£…ï¼Œå®‰è£…çš„ç›®å½•å¯ä»¥ä½¿ç”¨é»˜è®¤ç›®å½•ã€C:/Program Files/nodejs/ã€‘ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰è·¯å¾„ã€‚</span><br><span class="line">è¿™ä¸ªç¯å¢ƒè·¯å¾„åˆ‡æ¢å‘ä¹Ÿå¾ˆå¤šï¼Œå¦‚æœå¤§å®¶Cç›˜ç©ºé—´è¶³å¤Ÿå¯ä»¥ç›´æ¥è£…Cç›˜ï¼Œå¦‚æœæƒ³åˆ‡æ¢å…¶ä»–ç›˜æˆ–è€…æŠŠç¯å¢ƒéå†åˆ‡æ¢åˆ°è‡ªå®šä¹‰è·¯å¾„ä¹Ÿå¯ä»¥ï¼Œå…·ä½“æ•™ç¨‹ç™¾åº¦(ä¸è¿‡å‘æ¯”è¾ƒå¤šå°±æ˜¯äº†)!</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3ã€å®‰è£…å®Œæˆåï¼Œæ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸã€‚åœ¨é”®ç›˜æŒ‰ä¸‹win + Ré”®ï¼Œè¾“å…¥CMDï¼Œç„¶åå›è½¦ï¼Œæ‰“å¼€CMDçª—å£ï¼Œæ‰§è¡Œnode -vå‘½ä»¤ï¼Œçœ‹åˆ°ç‰ˆæœ¬ä¿¡æ¯ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</span><br><span class="line"></span><br><span class="line">4ã€ä¿®æ”¹npmæºã€‚npmä¸‹è½½å„ç§æ¨¡å—ï¼Œé»˜è®¤æ˜¯ä»å›½å¤„æœåŠ¡å™¨ä¸‹è½½ï¼Œé€Ÿåº¦è¾ƒæ…¢ï¼Œå»ºè®®é…ç½®æˆæ·˜å®é•œåƒã€‚æ‰“å¼€CMDçª—å£ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤:</span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com/</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240914220942969.png" alt="image-20240914220942969"></p>
<p>4ã€å®‰è£…Hexo</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1ã€åœ¨Git BASHè¾“å…¥å¦‚ä¸‹å‘½ä»¤å®‰è£…</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line">2ã€å®‰è£…å®Œåè¾“å…¥hexo -véªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240914221041050.png" alt="image-20240914221041050"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŠ¥é”™è§£å†³</span></span><br><span class="line">$ npm install -g hexo-cli</span><br><span class="line">npm error code CERT_HAS_EXPIRED</span><br><span class="line">npm error errno CERT_HAS_EXPIRED</span><br><span class="line">npm error request to https://registry.npm.taobao.org/hexo-cli failed, reason: certificate has expired</span><br><span class="line"></span><br><span class="line">npm error A complete <span class="built_in">log</span> of this run can be found <span class="keyword">in</span>: C:\Users\Mac\AppData\Local\npm-cache\_logs\2024-09-14T13_52_56_453Z-debug-0.log</span><br><span class="line"></span><br><span class="line">1.å…³é—­ npm çš„ SSL éªŒè¯</span><br><span class="line"> npm config <span class="built_in">set</span> strict-ssl <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">2.æ¸…é™¤ npm ç¼“å­˜</span><br><span class="line"> npm cache cean --force</span><br></pre></td></tr></table></figure>
<p>5ã€è¿æ¥è‡³Github</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1ã€åœ¨git bashæ‰§è¡Œå‘½ä»¤ç”Ÿæˆsshå…¬é’¥ï¼Œæ­¤å…¬é’¥ç”¨äºä½ çš„è®¡ç®—æœºè¿æ¥Githubï¼Œæ‰§è¡Œå‘½ä»¤ä¹‹åæŒ‰4ä¸ªå›è½¦</span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;ä½ çš„é‚®ç®±&quot;</span></span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;2659019085@qq.com&quot;</span></span><br><span class="line"></span><br><span class="line">2ã€ä¹‹åæ‰“å¼€Cç›˜ä¸‹ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹çš„.sshçš„æ–‡ä»¶å¤¹ï¼Œä¼šçœ‹åˆ° id_rsa.pub</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915150352820.png" alt="image-20240915150352820"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3ã€ç”¨è®°äº‹æœ¬æ‰“å¼€ä¸Šè¿°å›¾ç‰‡ä¸­çš„å…¬é’¥ï¼ˆid_rsa.pubï¼‰ï¼Œå¤åˆ¶é‡Œé¢çš„å…¨éƒ¨å†…å®¹ï¼Œç„¶åå¼€å§‹åœ¨githubä¸­é…ç½®sshå¯†é’¥ã€‚</span><br><span class="line"></span><br><span class="line">4ã€å°† SSH KEY é…ç½®åˆ° GitHub</span><br><span class="line">è¿›å…¥githubï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒ é€‰æ‹©settingsï¼Œè¿›å…¥è®¾ç½®é¡µåé€‰æ‹© SSH and GPG keysï¼Œåå­—éšä¾¿èµ·ï¼Œå…¬é’¥å¡«åˆ°Keyé‚£ä¸€æ ã€‚</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915150708021.png" alt="image-20240915150708021"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915151004537.png" alt="image-20240915151004537"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">5ã€æµ‹è¯•è¿æ¥ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤</span><br><span class="line">ssh -T git@github.com</span><br><span class="line"></span><br><span class="line">å‡ºç°è¿æ¥åˆ°è´¦æˆ·çš„ä¿¡æ¯ï¼Œè¯´æ˜å·²ç»å¤§åŠŸå‘Šæˆï¼Œè‡³æ­¤å®Œæˆäº†ç¯å¢ƒå‡†å¤‡å·¥ä½œã€‚</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915151343104.png" alt="image-20240915151343104"></p>
<p>6ã€åˆå§‹åŒ– Hexo é¡¹ç›®</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1ã€æ‰“å¼€cmdå‘½ä»¤çª—å£ï¼Œæ‰§è¡Œhexo initåˆå§‹åŒ–é¡¹ç›®ã€‚</span><br><span class="line">hexo init blog-demo</span><br><span class="line"></span><br><span class="line">blog-demoä¸ºé¡¹ç›®å</span><br><span class="line"></span><br><span class="line">2ã€è¿›å…¥blog-demo ï¼Œè¾“å…¥npm iå®‰è£…ç›¸å…³ä¾èµ–ã€‚</span><br><span class="line"><span class="built_in">cd</span> blog-demo </span><br><span class="line">npm i</span><br><span class="line"></span><br><span class="line">3ã€è¾“å…¥hexo serveræˆ–è€…hexo s å¯åŠ¨é¡¹ç›®</span><br><span class="line"></span><br><span class="line">4ã€æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ï¼šhttp://localhost:4000/ ï¼Œçœ‹åˆ°ä¸‹é¢çš„æ•ˆæœï¼Œè¯´æ˜ä½ çš„åšå®¢å·²ç»æ„å»ºæˆåŠŸäº†ã€‚</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915152540188.png" alt="image-20240915152540188"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">åˆå§‹åŒ–é¡¹ç›®åï¼Œblog-demoæœ‰å¦‚ä¸‹ç»“æ„ï¼š</span><br><span class="line"></span><br><span class="line">image-20221027113438707</span><br><span class="line">ã€node_modulesã€‘ï¼šä¾èµ–åŒ…</span><br><span class="line">ã€scaffoldsã€‘ï¼šç”Ÿæˆæ–‡ç« çš„ä¸€äº›æ¨¡æ¿</span><br><span class="line">ã€<span class="built_in">source</span>ã€‘ï¼šç”¨æ¥å­˜æ”¾ä½ çš„æ–‡ç« </span><br><span class="line">ã€themesã€‘ï¼šä¸»é¢˜</span><br><span class="line">ã€.npmignoreã€‘ï¼šå‘å¸ƒæ—¶å¿½ç•¥çš„æ–‡ä»¶ï¼ˆå¯å¿½ç•¥ï¼‰</span><br><span class="line">ã€_config.landscape.ymlã€‘ï¼šä¸»é¢˜çš„é…ç½®æ–‡ä»¶</span><br><span class="line">ã€config.ymlã€‘ï¼šåšå®¢çš„é…ç½®æ–‡ä»¶</span><br><span class="line">ã€package.jsonã€‘ï¼šé¡¹ç›®åç§°ã€æè¿°ã€ç‰ˆæœ¬ã€è¿è¡Œå’Œå¼€å‘ç­‰ä¿¡æ¯</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915153639627.png" alt="image-20240915153639627"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915152744328.png" alt="image-20240915152744328"></p>
<p>7ã€å°†é™æ€åšå®¢æŒ‚è½½åˆ° GitHub Pages</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1ã€åœ¨git bashè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®‰è£… hexo-deployer-git</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line">2ã€ä¿®æ”¹ _config.yml æ–‡ä»¶</span><br><span class="line">åœ¨blog-demoç›®å½•ä¸‹çš„_config.ymlï¼Œå°±æ˜¯æ•´ä¸ªHexoæ¡†æ¶çš„é…ç½®æ–‡ä»¶äº†ã€‚å¯ä»¥åœ¨é‡Œé¢ä¿®æ”¹å¤§éƒ¨åˆ†çš„é…ç½®ã€‚è¯¦ç»†å¯å‚è€ƒå®˜æ–¹çš„é…ç½®æè¿°ã€‚</span><br><span class="line">ä¿®æ”¹æœ€åä¸€è¡Œçš„é…ç½®ï¼Œå°†repositoryä¿®æ”¹ä¸ºä½ è‡ªå·±çš„githubé¡¹ç›®åœ°å€å³å¯ï¼Œè¿˜æœ‰åˆ†æ”¯è¦æ”¹ä¸ºmainä»£è¡¨ä¸»åˆ†æ”¯ï¼ˆæ³¨æ„ç¼©è¿›ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: git@github.com:aurora766/aurora766.github.io.git</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="C:\Users\Mac\AppData\Roaming\Typora\typora-user-images\image-20240915154159783.png" alt="image-20240915154159783"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">3ã€ä¿®æ”¹å¥½é…ç½®åï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°†ä»£ç éƒ¨ç½²åˆ° GitHubï¼ˆHexoä¸‰è¿ï¼‰ã€‚</span><br><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy    <span class="comment">#Git BASHç»ˆç«¯æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hexo cleanï¼š    <span class="comment">#åˆ é™¤ä¹‹å‰ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè‹¥æœªç”Ÿæˆè¿‡é™æ€æ–‡ä»¶ï¼Œå¯å¿½ç•¥æ­¤å‘½ä»¤ã€‚</span></span><br><span class="line">hexo generateï¼š <span class="comment">#ç”Ÿæˆé™æ€æ–‡ç« ï¼Œå¯ä»¥ç”¨hexo gç¼©å†™</span></span><br><span class="line">hexo deployï¼š   <span class="comment">#éƒ¨ç½²æ–‡ç« ï¼Œå¯ä»¥ç”¨hexo dç¼©å†™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ³¨æ„ï¼šdeployæ—¶å¯èƒ½è¦ä½ è¾“å…¥ username å’Œ passwordã€‚</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>redis</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://www.fomal.cc/posts/7b25d017.html">https://www.fomal.cc/posts/7b25d017.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>FomalhautğŸ¥</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2024-09-15</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2024-09-15</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">æŠ•å–‚ä½œè€…</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://tuchuang.voooe.cn/images/2023/01/04/2.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/04/2.webp" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="https://tuchuang.voooe.cn/images/2023/01/04/20f8e49805975b8f8.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/04/20f8e49805975b8f8.webp" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/posts/2013454d.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_14.webp" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%BC%96%E5%86%99%E5%AF%86%E9%92%A5%E5%88%86%E5%8F%91%E5%85%8D%E4%BA%A4%E4%BA%92%E7%9A%84%E8%84%9A%E6%9C%AC"><span class="toc-text">1. ç¼–å†™å¯†é’¥åˆ†å‘å…äº¤äº’çš„è„šæœ¬</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%B7%B3%E6%9D%BF%E6%9C%BA%E8%84%9A%E6%9C%AC"><span class="toc-text">2. è·³æ¿æœºè„šæœ¬</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5"><span class="toc-text">3. æ—¶é—´åŒæ­¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E6%90%AD%E5%BB%BANginx-Tomcat%E6%90%AD%E5%BB%BAJpress"><span class="toc-text">4ã€æ­å»ºNginx+Tomcatæ­å»ºJpress</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-zabbix%E7%9B%91%E6%8E%A7%EF%BC%8C%E7%9B%91%E6%8E%A7%E4%B8%80%E5%8F%B0%E6%9C%BA%E5%99%A8"><span class="toc-text">5. zabbixç›‘æ§ï¼Œç›‘æ§ä¸€å°æœºå™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%8B%E9%9D%A2%E8%BF%99%E6%AE%B5%E4%B8%8D%E7%94%A8%E7%AE%A1%EF%BC%8C%E5%86%99roles%E5%8F%AF%E4%BB%A5%E5%8F%82%E8%80%83%E4%B8%8B%E9%9D%A2%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E6%AD%A5%E9%AA%A4%EF%BC%8C%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%97%B6%E5%80%99%E4%B8%8D%E7%94%A8%E8%BE%93%E5%AF%86%E7%A0%81%EF%BC%8C%E5%85%88%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E5%86%8D%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="toc-text">######ä¸‹é¢è¿™æ®µä¸ç”¨ç®¡ï¼Œå†™roleså¯ä»¥å‚è€ƒä¸‹é¢è¿™ä¸ªæ–¹æ³•æ­¥éª¤ï¼Œå¯¼å…¥æ•°æ®åº“çš„æ—¶å€™ä¸ç”¨è¾“å¯†ç ï¼Œå…ˆå¯¼å…¥æ•°æ®åº“ï¼Œå†åˆ›å»ºç”¨æˆ·</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Git-%E6%9E%84%E5%BB%BA%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F"><span class="toc-text">6. Git æ„å»ºåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E6%90%AD%E5%BB%BA%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%BC%95%E6%93%8EJenkins"><span class="toc-text">7. æ­å»ºæŒç»­é›†æˆå¼•æ“Jenkins</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-jumpserver%E9%83%A8%E7%BD%B2"><span class="toc-text">9 . jumpserveréƒ¨ç½²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E9%83%A8%E7%BD%B2ELK"><span class="toc-text">10. éƒ¨ç½²ELK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11"><span class="toc-text">11.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E9%9C%80%E8%A6%81%E8%87%AA%E5%B7%B1%E8%B0%83%E7%A0%94"><span class="toc-text">12  éœ€è¦è‡ªå·±è°ƒç ”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-redis%E7%9A%84info%E8%8E%B7%E5%8F%96%E4%BF%A1%E6%81%AF"><span class="toc-text">13.redisçš„infoè·å–ä¿¡æ¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-Hugo-github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2"><span class="toc-text">14 Hugo+githubæ­å»ºåšå®¢</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">æ ¼è¨€ğŸ§¬</p><div class="bg-ad"><div>å†çœ‹çœ‹é‚£ä¸ªå…‰ç‚¹ï¼Œå®ƒå°±åœ¨è¿™é‡Œï¼Œè¿™æ˜¯å®¶å›­ï¼Œè¿™æ˜¯æˆ‘ä»¬ â€”â€” ä½ æ‰€çˆ±çš„æ¯ä¸€ä¸ªäººï¼Œä½ è®¤è¯†çš„ä¸€ä¸ªäººï¼Œä½ å¬è¯´è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œæ›¾ç»æœ‰è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œéƒ½åœ¨å®ƒä¸Šé¢åº¦è¿‡ä»–ä»¬çš„ä¸€ç”Ÿâœ¨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">ç‚¹å‡»å¼€å¯æ˜Ÿè¾°ä¹‹æ—…</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">çŒœä½ æƒ³çœ‹ğŸ’¡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">é­”æ”¹æŒ‡å—</a><a href="/box/nav/">ç½‘å€å¯¼èˆª</a></li><li><a href="/social/link/">æˆ‘çš„æœ‹å‹</a><a href="/comments/">ç•™ç‚¹ä»€ä¹ˆ</a></li><li><a href="/personal/about/">å…³äºä½œè€…</a><a href="/archives/">æ–‡ç« å½’æ¡£</a></li><li><a href="/categories/">æ–‡ç« åˆ†ç±»</a><a href="/tags/">æ–‡ç« æ ‡ç­¾</a></li><li><a href="/box/Gallery/">æˆ‘çš„ç”»å»Š</a><a href="/personal/bb/">æˆ‘çš„å” å¨</a></li><li><a href="/site/time/">å»ºè®¾è¿›ç¨‹</a><a href="/site/census/">ç½‘ç«™ç»Ÿè®¡</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">æ¨èå‹é“¾âŒ›</p><div class="ft-img-group"><div class="img-group-item"><a href="https://www.fomal.cc/" title="FomalhautğŸ¥"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/60e5d4e39da7c077.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="å¹¿å‘Šä½æ‹›ç§Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://lskypro.acozycotage.net/LightPicture/2022/12/65307a5828af6790.webp" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2022-2024</b></span><span><b>&nbsp;&nbsp;By FomalhautğŸ¥</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="æœ¬ç«™æ•°æ®åˆ†æå¾—ç›Šäº51laæŠ€æœ¯æ”¯æŒ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20226665" style="margin-inline:5px" title="æœ¬ç«™å·²åŠ å…¥èŒICPè±ªåå¥—é¤ï¼ŒèŒICPå¤‡20226665å·"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/èŒICPå¤‡-20226665-fe1384.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="æœ¬ç½‘ç«™ç»Service Workeråˆ†æµè‡³ç¼¤çº·äº‘å¯¹è±¡å­˜å‚¨"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-ç¼¤çº·äº‘-9c62da.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="æœ¬ç«™ä½¿ç”¨ç½‘ç›¾æ˜Ÿçƒæä¾›CDNåŠ é€Ÿä¸é˜²æŠ¤"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/CDN-ç½‘ç›¾æ˜Ÿçƒ-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="æœ¬ç½‘ç«™æºç ç”±Githubæä¾›å­˜å‚¨ä»“åº“"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="å³é”®æ¨¡å¼" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="åˆ†äº«é“¾æ¥" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>å¤åˆ¶</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>ç™¾åº¦æœç´¢</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>ç²˜è´´</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>ç©ºé™è¯„è®º</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>å¤åˆ¶æœ¬æ–‡åœ°å€</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>è½¬åˆ°é“¾æ¥</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>ä¿å­˜å›¾ç‰‡</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>åœ¨æ–°çª—å£æ‰“å¼€</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>å¤åˆ¶å›¾ç‰‡é“¾æ¥</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>æ˜¼å¤œåˆ‡æ¢</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>å…³äºåšå®¢</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>ç¾åŒ–è®¾ç½®</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>åˆ‡æ¢å…¨å±</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>æ‰“å°é¡µé¢</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://www.fomal.cc/categories/æ¼”ç¤º/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¥ å°Fã®æ¡ˆä¾‹æ¼”ç¤ºç¬”è®° (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://www.fomal.cc/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>';
    console.log('å·²æŒ‚è½½magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_14.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</a><div class="blog-slider__text">ğŸ¥§æœ¬æ–‡æ±‡æ€»Markdownæ ¼å¼ä»¥åŠå¤–æŒ‚æ ‡ç­¾åœ¨ç½‘é¡µç«¯çš„æ¸²æŸ“æ•ˆæœï¼Œå¯ä½œä¸ºæ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('å·²æŒ‚è½½gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><!-- hexo injector body_end end --></body></html>